(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var bc={exports:{}},Pi={},Nc={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=Symbol.for("react.element"),$f=Symbol.for("react.portal"),Af=Symbol.for("react.fragment"),Of=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),Lf=Symbol.for("react.provider"),Rf=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),Mf=Symbol.for("react.memo"),zf=Symbol.for("react.lazy"),Ja=Symbol.iterator;function Ff(t){return t===null||typeof t!="object"?null:(t=Ja&&t[Ja]||t["@@iterator"],typeof t=="function"?t:null)}var Ec={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cc=Object.assign,Tc={};function pn(t,e,r){this.props=t,this.context=e,this.refs=Tc,this.updater=r||Ec}pn.prototype.isReactComponent={};pn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pc(){}Pc.prototype=pn.prototype;function Bl(t,e,r){this.props=t,this.context=e,this.refs=Tc,this.updater=r||Ec}var ql=Bl.prototype=new Pc;ql.constructor=Bl;Cc(ql,pn.prototype);ql.isPureReactComponent=!0;var Za=Array.isArray,$c=Object.prototype.hasOwnProperty,Hl={current:null},Ac={key:!0,ref:!0,__self:!0,__source:!0};function Oc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)$c.call(e,n)&&!Ac.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ds,type:t,key:i,ref:o,props:s,_owner:Hl.current}}function Bf(t,e){return{$$typeof:ds,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wl(t){return typeof t=="object"&&t!==null&&t.$$typeof===ds}function qf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ya=/\/+/g;function no(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qf(""+t.key):e.toString(36)}function zs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ds:case $f:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+no(o,0):n,Za(s)?(r="",t!=null&&(r=t.replace(Ya,"$&/")+"/"),zs(s,e,r,"",function(c){return c})):s!=null&&(Wl(s)&&(s=Bf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ya,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Za(t))for(var l=0;l<t.length;l++){i=t[l];var a=n+no(i,l);o+=zs(i,e,r,a,s)}else if(a=Ff(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=n+no(i,l++),o+=zs(i,e,r,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xs(t,e,r){if(t==null)return t;var n=[],s=0;return zs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Hf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},Fs={transition:null},Wf={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Fs,ReactCurrentOwner:Hl};function Ic(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:xs,forEach:function(t,e,r){xs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return xs(t,function(){e++}),e},toArray:function(t){return xs(t,function(e){return e})||[]},only:function(t){if(!Wl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=pn;q.Fragment=Af;q.Profiler=If;q.PureComponent=Bl;q.StrictMode=Of;q.Suspense=Uf;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wf;q.act=Ic;q.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Cc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Hl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)$c.call(e,a)&&!Ac.hasOwnProperty(a)&&(n[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:ds,type:t.type,key:s,ref:i,props:n,_owner:o}};q.createContext=function(t){return t={$$typeof:Rf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lf,_context:t},t.Consumer=t};q.createElement=Oc;q.createFactory=function(t){var e=Oc.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:Df,render:t}};q.isValidElement=Wl;q.lazy=function(t){return{$$typeof:zf,_payload:{_status:-1,_result:t},_init:Hf}};q.memo=function(t,e){return{$$typeof:Mf,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=Fs.transition;Fs.transition={};try{t()}finally{Fs.transition=e}};q.unstable_act=Ic;q.useCallback=function(t,e){return Ce.current.useCallback(t,e)};q.useContext=function(t){return Ce.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};q.useEffect=function(t,e){return Ce.current.useEffect(t,e)};q.useId=function(){return Ce.current.useId()};q.useImperativeHandle=function(t,e,r){return Ce.current.useImperativeHandle(t,e,r)};q.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return Ce.current.useMemo(t,e)};q.useReducer=function(t,e,r){return Ce.current.useReducer(t,e,r)};q.useRef=function(t){return Ce.current.useRef(t)};q.useState=function(t){return Ce.current.useState(t)};q.useSyncExternalStore=function(t,e,r){return Ce.current.useSyncExternalStore(t,e,r)};q.useTransition=function(){return Ce.current.useTransition()};q.version="18.3.1";Nc.exports=q;var O=Nc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf=O,Kf=Symbol.for("react.element"),Qf=Symbol.for("react.fragment"),Gf=Object.prototype.hasOwnProperty,Jf=Vf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zf={key:!0,ref:!0,__self:!0,__source:!0};function Lc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Gf.call(e,n)&&!Zf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Kf,type:t,key:i,ref:o,props:s,_owner:Jf.current}}Pi.Fragment=Qf;Pi.jsx=Lc;Pi.jsxs=Lc;bc.exports=Pi;var u=bc.exports,Rc={exports:{}},Fe={},Dc={exports:{}},Uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,D){var z=P.length;P.push(D);e:for(;0<z;){var se=z-1>>>1,ue=P[se];if(0<s(ue,D))P[se]=D,P[z]=ue,z=se;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var D=P[0],z=P.pop();if(z!==D){P[0]=z;e:for(var se=0,ue=P.length,Cr=ue>>>1;se<Cr;){var ft=2*(se+1)-1,ir=P[ft],pt=ft+1,ot=P[pt];if(0>s(ir,z))pt<ue&&0>s(ot,ir)?(P[se]=ot,P[pt]=z,se=pt):(P[se]=ir,P[ft]=z,se=ft);else if(pt<ue&&0>s(ot,z))P[se]=ot,P[pt]=z,se=pt;else break e}}return D}function s(P,D){var z=P.sortIndex-D.sortIndex;return z!==0?z:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,g=3,v=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(P){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=P)n(c),D.sortIndex=D.expirationTime,e(a,D);else break;D=r(c)}}function k(P){if(x=!1,m(P),!w)if(r(a)!==null)w=!0,Z(S);else{var D=r(c);D!==null&&xn(k,D.startTime-P)}}function S(P,D){w=!1,x&&(x=!1,y(A),A=-1),v=!0;var z=g;try{for(m(D),h=r(a);h!==null&&(!(h.expirationTime>D)||P&&!V());){var se=h.callback;if(typeof se=="function"){h.callback=null,g=h.priorityLevel;var ue=se(h.expirationTime<=D);D=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===r(a)&&n(a),m(D)}else n(a);h=r(a)}if(h!==null)var Cr=!0;else{var ft=r(c);ft!==null&&xn(k,ft.startTime-D),Cr=!1}return Cr}finally{h=null,g=z,v=!1}}var N=!1,T=null,A=-1,Q=5,C=-1;function V(){return!(t.unstable_now()-C<Q)}function it(){if(T!==null){var P=t.unstable_now();C=P;var D=!0;try{D=T(!0,P)}finally{D?Pt():(N=!1,T=null)}}else N=!1}var Pt;if(typeof f=="function")Pt=function(){f(it)};else if(typeof MessageChannel<"u"){var Xi=new MessageChannel,wn=Xi.port2;Xi.port1.onmessage=it,Pt=function(){wn.postMessage(null)}}else Pt=function(){b(it,0)};function Z(P){T=P,N||(N=!0,Pt())}function xn(P,D){A=b(function(){P(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,Z(S))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(a)},t.unstable_next=function(P){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var z=g;g=D;try{return P()}finally{g=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var z=g;g=P;try{return D()}finally{g=z}},t.unstable_scheduleCallback=function(P,D,z){var se=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?se+z:se):z=se,P){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=z+ue,P={id:d++,callback:D,priorityLevel:P,startTime:z,expirationTime:ue,sortIndex:-1},z>se?(P.sortIndex=z,e(c,P),r(a)===null&&P===r(c)&&(x?(y(A),A=-1):x=!0,xn(k,z-se))):(P.sortIndex=ue,e(a,P),w||v||(w=!0,Z(S))),P},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(P){var D=g;return function(){var z=g;g=D;try{return P.apply(this,arguments)}finally{g=z}}}})(Uc);Dc.exports=Uc;var Yf=Dc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf=O,ze=Yf;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mc=new Set,Vn={};function br(t,e){on(t,e),on(t+"Capture",e)}function on(t,e){for(Vn[t]=e,t=0;t<e.length;t++)Mc.add(e[t])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uo=Object.prototype.hasOwnProperty,ep=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xa={},eu={};function tp(t){return Uo.call(eu,t)?!0:Uo.call(Xa,t)?!1:ep.test(t)?eu[t]=!0:(Xa[t]=!0,!1)}function rp(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function np(t,e,r,n){if(e===null||typeof e>"u"||rp(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Te(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new Te(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new Te(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new Te(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new Te(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new Te(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new Te(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new Te(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new Te(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new Te(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vl=/[\-:]([a-z])/g;function Kl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vl,Kl);xe[e]=new Te(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vl,Kl);xe[e]=new Te(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vl,Kl);xe[e]=new Te(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new Te(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new Te(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ql(t,e,r,n){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(np(e,r,s,n)&&(r=null),n||s===null?tp(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Tt=Xf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ks=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),Gl=Symbol.for("react.strict_mode"),Mo=Symbol.for("react.profiler"),zc=Symbol.for("react.provider"),Fc=Symbol.for("react.context"),Jl=Symbol.for("react.forward_ref"),zo=Symbol.for("react.suspense"),Fo=Symbol.for("react.suspense_list"),Zl=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Bc=Symbol.for("react.offscreen"),tu=Symbol.iterator;function kn(t){return t===null||typeof t!="object"?null:(t=tu&&t[tu]||t["@@iterator"],typeof t=="function"?t:null)}var le=Object.assign,so;function Pn(t){if(so===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);so=e&&e[1]||""}return`
`+so+t}var io=!1;function oo(t,e){if(!t||io)return"";io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{io=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Pn(t):""}function sp(t){switch(t.tag){case 5:return Pn(t.type);case 16:return Pn("Lazy");case 13:return Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 2:case 15:return t=oo(t.type,!1),t;case 11:return t=oo(t.type.render,!1),t;case 1:return t=oo(t.type,!0),t;default:return""}}function Bo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Br:return"Fragment";case Fr:return"Portal";case Mo:return"Profiler";case Gl:return"StrictMode";case zo:return"Suspense";case Fo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fc:return(t.displayName||"Context")+".Consumer";case zc:return(t._context.displayName||"Context")+".Provider";case Jl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zl:return e=t.displayName||null,e!==null?e:Bo(t.type)||"Memo";case Rt:e=t._payload,t=t._init;try{return Bo(t(e))}catch{}}return null}function ip(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bo(e);case 8:return e===Gl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function op(t){var e=qc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _s(t){t._valueTracker||(t._valueTracker=op(t))}function Hc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=qc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Xs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qo(t,e){var r=e.checked;return le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ru(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Xt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wc(t,e){e=e.checked,e!=null&&Ql(t,"checked",e,!1)}function Ho(t,e){Wc(t,e);var r=Xt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wo(t,e.type,Xt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wo(t,e,r){(e!=="number"||Xs(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var $n=Array.isArray;function Xr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Xt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Vo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function su(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if($n(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Xt(r)}}function Vc(t,e){var r=Xt(e.value),n=Xt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function iu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ko(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ss,Qc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ss=Ss||document.createElement("div"),Ss.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ss.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lp=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(t){lp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ln[e]=Ln[t]})});function Gc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ln.hasOwnProperty(t)&&Ln[t]?(""+e).trim():e+"px"}function Jc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Gc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var ap=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qo(t,e){if(e){if(ap[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Go(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=null;function Yl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zo=null,en=null,tn=null;function ou(t){if(t=ps(t)){if(typeof Zo!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Li(e),Zo(t.stateNode,t.type,e))}}function Zc(t){en?tn?tn.push(t):tn=[t]:en=t}function Yc(){if(en){var t=en,e=tn;if(tn=en=null,ou(t),e)for(t=0;t<e.length;t++)ou(e[t])}}function Xc(t,e){return t(e)}function ed(){}var lo=!1;function td(t,e,r){if(lo)return t(e,r);lo=!0;try{return Xc(t,e,r)}finally{lo=!1,(en!==null||tn!==null)&&(ed(),Yc())}}function Qn(t,e){var r=t.stateNode;if(r===null)return null;var n=Li(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var Yo=!1;if(bt)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Yo=!1}function up(t,e,r,n,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Rn=!1,ei=null,ti=!1,Xo=null,cp={onError:function(t){Rn=!0,ei=t}};function dp(t,e,r,n,s,i,o,l,a){Rn=!1,ei=null,up.apply(cp,arguments)}function hp(t,e,r,n,s,i,o,l,a){if(dp.apply(this,arguments),Rn){if(Rn){var c=ei;Rn=!1,ei=null}else throw Error(j(198));ti||(ti=!0,Xo=c)}}function Nr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function rd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lu(t){if(Nr(t)!==t)throw Error(j(188))}function fp(t){var e=t.alternate;if(!e){if(e=Nr(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return lu(s),t;if(i===n)return lu(s),e;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function nd(t){return t=fp(t),t!==null?sd(t):null}function sd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sd(t);if(e!==null)return e;t=t.sibling}return null}var id=ze.unstable_scheduleCallback,au=ze.unstable_cancelCallback,pp=ze.unstable_shouldYield,mp=ze.unstable_requestPaint,ce=ze.unstable_now,gp=ze.unstable_getCurrentPriorityLevel,Xl=ze.unstable_ImmediatePriority,od=ze.unstable_UserBlockingPriority,ri=ze.unstable_NormalPriority,yp=ze.unstable_LowPriority,ld=ze.unstable_IdlePriority,$i=null,dt=null;function vp(t){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot($i,t,void 0,(t.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:kp,wp=Math.log,xp=Math.LN2;function kp(t){return t>>>=0,t===0?32:31-(wp(t)/xp|0)|0}var js=64,bs=4194304;function An(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ni(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=An(l):(i&=o,i!==0&&(n=An(i)))}else o=r&~s,o!==0?n=An(o):i!==0&&(n=An(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-rt(e),s=1<<r,n|=t[r],e&=~s;return n}function _p(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-rt(i),l=1<<o,a=s[o];a===-1?(!(l&r)||l&n)&&(s[o]=_p(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function el(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ad(){var t=js;return js<<=1,!(js&4194240)&&(js=64),t}function ao(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function hs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rt(e),t[e]=r}function jp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-rt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ea(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-rt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var K=0;function ud(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cd,ta,dd,hd,fd,tl=!1,Ns=[],Ht=null,Wt=null,Vt=null,Gn=new Map,Jn=new Map,Mt=[],bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(t,e){switch(t){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Gn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(e.pointerId)}}function Sn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ps(e),e!==null&&ta(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Np(t,e,r,n,s){switch(e){case"focusin":return Ht=Sn(Ht,t,e,r,n,s),!0;case"dragenter":return Wt=Sn(Wt,t,e,r,n,s),!0;case"mouseover":return Vt=Sn(Vt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Gn.set(i,Sn(Gn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Jn.set(i,Sn(Jn.get(i)||null,t,e,r,n,s)),!0}return!1}function pd(t){var e=pr(t.target);if(e!==null){var r=Nr(e);if(r!==null){if(e=r.tag,e===13){if(e=rd(r),e!==null){t.blockedOn=e,fd(t.priority,function(){dd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=rl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Jo=n,r.target.dispatchEvent(n),Jo=null}else return e=ps(r),e!==null&&ta(e),t.blockedOn=r,!1;e.shift()}return!0}function cu(t,e,r){Bs(t)&&r.delete(e)}function Ep(){tl=!1,Ht!==null&&Bs(Ht)&&(Ht=null),Wt!==null&&Bs(Wt)&&(Wt=null),Vt!==null&&Bs(Vt)&&(Vt=null),Gn.forEach(cu),Jn.forEach(cu)}function jn(t,e){t.blockedOn===e&&(t.blockedOn=null,tl||(tl=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Ep)))}function Zn(t){function e(s){return jn(s,t)}if(0<Ns.length){jn(Ns[0],t);for(var r=1;r<Ns.length;r++){var n=Ns[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ht!==null&&jn(Ht,t),Wt!==null&&jn(Wt,t),Vt!==null&&jn(Vt,t),Gn.forEach(e),Jn.forEach(e),r=0;r<Mt.length;r++)n=Mt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Mt.length&&(r=Mt[0],r.blockedOn===null);)pd(r),r.blockedOn===null&&Mt.shift()}var rn=Tt.ReactCurrentBatchConfig,si=!0;function Cp(t,e,r,n){var s=K,i=rn.transition;rn.transition=null;try{K=1,ra(t,e,r,n)}finally{K=s,rn.transition=i}}function Tp(t,e,r,n){var s=K,i=rn.transition;rn.transition=null;try{K=4,ra(t,e,r,n)}finally{K=s,rn.transition=i}}function ra(t,e,r,n){if(si){var s=rl(t,e,r,n);if(s===null)wo(t,e,n,ii,r),uu(t,n);else if(Np(s,t,e,r,n))n.stopPropagation();else if(uu(t,n),e&4&&-1<bp.indexOf(t)){for(;s!==null;){var i=ps(s);if(i!==null&&cd(i),i=rl(t,e,r,n),i===null&&wo(t,e,n,ii,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else wo(t,e,n,null,r)}}var ii=null;function rl(t,e,r,n){if(ii=null,t=Yl(n),t=pr(t),t!==null)if(e=Nr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=rd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ii=t,null}function md(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gp()){case Xl:return 1;case od:return 4;case ri:case yp:return 16;case ld:return 536870912;default:return 16}default:return 16}}var Bt=null,na=null,qs=null;function gd(){if(qs)return qs;var t,e=na,r=e.length,n,s="value"in Bt?Bt.value:Bt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return qs=s.slice(t,1<n?1-n:void 0)}function Hs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Es(){return!0}function du(){return!1}function Be(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Es:du,this.isPropagationStopped=du,this}return le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),e}var mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=Be(mn),fs=le({},mn,{view:0,detail:0}),Pp=Be(fs),uo,co,bn,Ai=le({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bn&&(bn&&t.type==="mousemove"?(uo=t.screenX-bn.screenX,co=t.screenY-bn.screenY):co=uo=0,bn=t),uo)},movementY:function(t){return"movementY"in t?t.movementY:co}}),hu=Be(Ai),$p=le({},Ai,{dataTransfer:0}),Ap=Be($p),Op=le({},fs,{relatedTarget:0}),ho=Be(Op),Ip=le({},mn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lp=Be(Ip),Rp=le({},mn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dp=Be(Rp),Up=le({},mn,{data:0}),fu=Be(Up),Mp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Fp[t])?!!e[t]:!1}function ia(){return Bp}var qp=le({},fs,{key:function(t){if(t.key){var e=Mp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(t){return t.type==="keypress"?Hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hp=Be(qp),Wp=le({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=Be(Wp),Vp=le({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),Kp=Be(Vp),Qp=le({},mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gp=Be(Qp),Jp=le({},Ai,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zp=Be(Jp),Yp=[9,13,27,32],oa=bt&&"CompositionEvent"in window,Dn=null;bt&&"documentMode"in document&&(Dn=document.documentMode);var Xp=bt&&"TextEvent"in window&&!Dn,yd=bt&&(!oa||Dn&&8<Dn&&11>=Dn),mu=" ",gu=!1;function vd(t,e){switch(t){case"keyup":return Yp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qr=!1;function em(t,e){switch(t){case"compositionend":return wd(e);case"keypress":return e.which!==32?null:(gu=!0,mu);case"textInput":return t=e.data,t===mu&&gu?null:t;default:return null}}function tm(t,e){if(qr)return t==="compositionend"||!oa&&vd(t,e)?(t=gd(),qs=na=Bt=null,qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yd&&e.locale!=="ko"?null:e.data;default:return null}}var rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rm[t.type]:e==="textarea"}function xd(t,e,r,n){Zc(n),e=oi(e,"onChange"),0<e.length&&(r=new sa("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Un=null,Yn=null;function nm(t){$d(t,0)}function Oi(t){var e=Vr(t);if(Hc(e))return t}function sm(t,e){if(t==="change")return e}var kd=!1;if(bt){var fo;if(bt){var po="oninput"in document;if(!po){var vu=document.createElement("div");vu.setAttribute("oninput","return;"),po=typeof vu.oninput=="function"}fo=po}else fo=!1;kd=fo&&(!document.documentMode||9<document.documentMode)}function wu(){Un&&(Un.detachEvent("onpropertychange",_d),Yn=Un=null)}function _d(t){if(t.propertyName==="value"&&Oi(Yn)){var e=[];xd(e,Yn,t,Yl(t)),td(nm,e)}}function im(t,e,r){t==="focusin"?(wu(),Un=e,Yn=r,Un.attachEvent("onpropertychange",_d)):t==="focusout"&&wu()}function om(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oi(Yn)}function lm(t,e){if(t==="click")return Oi(e)}function am(t,e){if(t==="input"||t==="change")return Oi(e)}function um(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:um;function Xn(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Uo.call(e,s)||!st(t[s],e[s]))return!1}return!0}function xu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ku(t,e){var r=xu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xu(r)}}function Sd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jd(){for(var t=window,e=Xs();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Xs(t.document)}return e}function la(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cm(t){var e=jd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Sd(r.ownerDocument.documentElement,r)){if(n!==null&&la(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=ku(r,i);var o=ku(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dm=bt&&"documentMode"in document&&11>=document.documentMode,Hr=null,nl=null,Mn=null,sl=!1;function _u(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sl||Hr==null||Hr!==Xs(n)||(n=Hr,"selectionStart"in n&&la(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Mn&&Xn(Mn,n)||(Mn=n,n=oi(nl,"onSelect"),0<n.length&&(e=new sa("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Hr)))}function Cs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Wr={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},mo={},bd={};bt&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Ii(t){if(mo[t])return mo[t];if(!Wr[t])return t;var e=Wr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in bd)return mo[t]=e[r];return t}var Nd=Ii("animationend"),Ed=Ii("animationiteration"),Cd=Ii("animationstart"),Td=Ii("transitionend"),Pd=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(t,e){Pd.set(t,e),br(e,[t])}for(var go=0;go<Su.length;go++){var yo=Su[go],hm=yo.toLowerCase(),fm=yo[0].toUpperCase()+yo.slice(1);tr(hm,"on"+fm)}tr(Nd,"onAnimationEnd");tr(Ed,"onAnimationIteration");tr(Cd,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(Td,"onTransitionEnd");on("onMouseEnter",["mouseout","mouseover"]);on("onMouseLeave",["mouseout","mouseover"]);on("onPointerEnter",["pointerout","pointerover"]);on("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var On="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pm=new Set("cancel close invalid load scroll toggle".split(" ").concat(On));function ju(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,hp(n,e,void 0,t),t.currentTarget=null}function $d(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;ju(s,l,c),i=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;ju(s,l,c),i=a}}}if(ti)throw t=Xo,ti=!1,Xo=null,t}function te(t,e){var r=e[ul];r===void 0&&(r=e[ul]=new Set);var n=t+"__bubble";r.has(n)||(Ad(e,t,2,!1),r.add(n))}function vo(t,e,r){var n=0;e&&(n|=4),Ad(r,t,n,e)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function es(t){if(!t[Ts]){t[Ts]=!0,Mc.forEach(function(r){r!=="selectionchange"&&(pm.has(r)||vo(r,!1,t),vo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ts]||(e[Ts]=!0,vo("selectionchange",!1,e))}}function Ad(t,e,r,n){switch(md(e)){case 1:var s=Cp;break;case 4:s=Tp;break;default:s=ra}r=s.bind(null,e,r,t),s=void 0,!Yo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function wo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=pr(l),o===null)return;if(a=o.tag,a===5||a===6){n=i=o;continue e}l=l.parentNode}}n=n.return}td(function(){var c=i,d=Yl(r),h=[];e:{var g=Pd.get(t);if(g!==void 0){var v=sa,w=t;switch(t){case"keypress":if(Hs(r)===0)break e;case"keydown":case"keyup":v=Hp;break;case"focusin":w="focus",v=ho;break;case"focusout":w="blur",v=ho;break;case"beforeblur":case"afterblur":v=ho;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Kp;break;case Nd:case Ed:case Cd:v=Lp;break;case Td:v=Gp;break;case"scroll":v=Pp;break;case"wheel":v=Zp;break;case"copy":case"cut":case"paste":v=Dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=pu}var x=(e&4)!==0,b=!x&&t==="scroll",y=x?g!==null?g+"Capture":null:g;x=[];for(var f=c,m;f!==null;){m=f;var k=m.stateNode;if(m.tag===5&&k!==null&&(m=k,y!==null&&(k=Qn(f,y),k!=null&&x.push(ts(f,k,m)))),b)break;f=f.return}0<x.length&&(g=new v(g,w,null,r,d),h.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&r!==Jo&&(w=r.relatedTarget||r.fromElement)&&(pr(w)||w[Nt]))break e;if((v||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=c,w=w?pr(w):null,w!==null&&(b=Nr(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(x=hu,k="onMouseLeave",y="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(x=pu,k="onPointerLeave",y="onPointerEnter",f="pointer"),b=v==null?g:Vr(v),m=w==null?g:Vr(w),g=new x(k,f+"leave",v,r,d),g.target=b,g.relatedTarget=m,k=null,pr(d)===c&&(x=new x(y,f+"enter",w,r,d),x.target=m,x.relatedTarget=b,k=x),b=k,v&&w)t:{for(x=v,y=w,f=0,m=x;m;m=Or(m))f++;for(m=0,k=y;k;k=Or(k))m++;for(;0<f-m;)x=Or(x),f--;for(;0<m-f;)y=Or(y),m--;for(;f--;){if(x===y||y!==null&&x===y.alternate)break t;x=Or(x),y=Or(y)}x=null}else x=null;v!==null&&bu(h,g,v,x,!1),w!==null&&b!==null&&bu(h,b,w,x,!0)}}e:{if(g=c?Vr(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var S=sm;else if(yu(g))if(kd)S=am;else{S=om;var N=im}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=lm);if(S&&(S=S(t,c))){xd(h,S,r,d);break e}N&&N(t,g,c),t==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&Wo(g,"number",g.value)}switch(N=c?Vr(c):window,t){case"focusin":(yu(N)||N.contentEditable==="true")&&(Hr=N,nl=c,Mn=null);break;case"focusout":Mn=nl=Hr=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,_u(h,r,d);break;case"selectionchange":if(dm)break;case"keydown":case"keyup":_u(h,r,d)}var T;if(oa)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else qr?vd(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(yd&&r.locale!=="ko"&&(qr||A!=="onCompositionStart"?A==="onCompositionEnd"&&qr&&(T=gd()):(Bt=d,na="value"in Bt?Bt.value:Bt.textContent,qr=!0)),N=oi(c,A),0<N.length&&(A=new fu(A,t,null,r,d),h.push({event:A,listeners:N}),T?A.data=T:(T=wd(r),T!==null&&(A.data=T)))),(T=Xp?em(t,r):tm(t,r))&&(c=oi(c,"onBeforeInput"),0<c.length&&(d=new fu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=T))}$d(h,e)})}function ts(t,e,r){return{instance:t,listener:e,currentTarget:r}}function oi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qn(t,r),i!=null&&n.unshift(ts(t,i,s)),i=Qn(t,e),i!=null&&n.push(ts(t,i,s))),t=t.return}return n}function Or(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,a=l.alternate,c=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&c!==null&&(l=c,s?(a=Qn(r,i),a!=null&&o.unshift(ts(r,a,l))):s||(a=Qn(r,i),a!=null&&o.push(ts(r,a,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var mm=/\r\n?/g,gm=/\u0000|\uFFFD/g;function Nu(t){return(typeof t=="string"?t:""+t).replace(mm,`
`).replace(gm,"")}function Ps(t,e,r){if(e=Nu(e),Nu(t)!==e&&r)throw Error(j(425))}function li(){}var il=null,ol=null;function ll(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var al=typeof setTimeout=="function"?setTimeout:void 0,ym=typeof clearTimeout=="function"?clearTimeout:void 0,Eu=typeof Promise=="function"?Promise:void 0,vm=typeof queueMicrotask=="function"?queueMicrotask:typeof Eu<"u"?function(t){return Eu.resolve(null).then(t).catch(wm)}:al;function wm(t){setTimeout(function(){throw t})}function xo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Zn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Zn(e)}function Kt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var gn=Math.random().toString(36).slice(2),ut="__reactFiber$"+gn,rs="__reactProps$"+gn,Nt="__reactContainer$"+gn,ul="__reactEvents$"+gn,xm="__reactListeners$"+gn,km="__reactHandles$"+gn;function pr(t){var e=t[ut];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Nt]||r[ut]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Cu(t);t!==null;){if(r=t[ut])return r;t=Cu(t)}return e}t=r,r=t.parentNode}return null}function ps(t){return t=t[ut]||t[Nt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Li(t){return t[rs]||null}var cl=[],Kr=-1;function rr(t){return{current:t}}function re(t){0>Kr||(t.current=cl[Kr],cl[Kr]=null,Kr--)}function X(t,e){Kr++,cl[Kr]=t.current,t.current=e}var er={},be=rr(er),Ie=rr(!1),xr=er;function ln(t,e){var r=t.type.contextTypes;if(!r)return er;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Le(t){return t=t.childContextTypes,t!=null}function ai(){re(Ie),re(be)}function Tu(t,e,r){if(be.current!==er)throw Error(j(168));X(be,e),X(Ie,r)}function Od(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(j(108,ip(t)||"Unknown",s));return le({},r,n)}function ui(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||er,xr=be.current,X(be,t),X(Ie,Ie.current),!0}function Pu(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=Od(t,e,xr),n.__reactInternalMemoizedMergedChildContext=t,re(Ie),re(be),X(be,t)):re(Ie),X(Ie,r)}var xt=null,Ri=!1,ko=!1;function Id(t){xt===null?xt=[t]:xt.push(t)}function _m(t){Ri=!0,Id(t)}function nr(){if(!ko&&xt!==null){ko=!0;var t=0,e=K;try{var r=xt;for(K=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}xt=null,Ri=!1}catch(s){throw xt!==null&&(xt=xt.slice(t+1)),id(Xl,nr),s}finally{K=e,ko=!1}}return null}var Qr=[],Gr=0,ci=null,di=0,qe=[],He=0,kr=null,_t=1,St="";function cr(t,e){Qr[Gr++]=di,Qr[Gr++]=ci,ci=t,di=e}function Ld(t,e,r){qe[He++]=_t,qe[He++]=St,qe[He++]=kr,kr=t;var n=_t;t=St;var s=32-rt(n)-1;n&=~(1<<s),r+=1;var i=32-rt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,_t=1<<32-rt(e)+s|r<<s|n,St=i+t}else _t=1<<i|r<<s|n,St=t}function aa(t){t.return!==null&&(cr(t,1),Ld(t,1,0))}function ua(t){for(;t===ci;)ci=Qr[--Gr],Qr[Gr]=null,di=Qr[--Gr],Qr[Gr]=null;for(;t===kr;)kr=qe[--He],qe[He]=null,St=qe[--He],qe[He]=null,_t=qe[--He],qe[He]=null}var Me=null,Ue=null,ne=!1,tt=null;function Rd(t,e){var r=We(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function $u(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Me=t,Ue=Kt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Me=t,Ue=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=kr!==null?{id:_t,overflow:St}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=We(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Me=t,Ue=null,!0):!1;default:return!1}}function dl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hl(t){if(ne){var e=Ue;if(e){var r=e;if(!$u(t,e)){if(dl(t))throw Error(j(418));e=Kt(r.nextSibling);var n=Me;e&&$u(t,e)?Rd(n,r):(t.flags=t.flags&-4097|2,ne=!1,Me=t)}}else{if(dl(t))throw Error(j(418));t.flags=t.flags&-4097|2,ne=!1,Me=t}}}function Au(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Me=t}function $s(t){if(t!==Me)return!1;if(!ne)return Au(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ll(t.type,t.memoizedProps)),e&&(e=Ue)){if(dl(t))throw Dd(),Error(j(418));for(;e;)Rd(t,e),e=Kt(e.nextSibling)}if(Au(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ue=Kt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ue=null}}else Ue=Me?Kt(t.stateNode.nextSibling):null;return!0}function Dd(){for(var t=Ue;t;)t=Kt(t.nextSibling)}function an(){Ue=Me=null,ne=!1}function ca(t){tt===null?tt=[t]:tt.push(t)}var Sm=Tt.ReactCurrentBatchConfig;function Nn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function As(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ou(t){var e=t._init;return e(t._payload)}function Ud(t){function e(y,f){if(t){var m=y.deletions;m===null?(y.deletions=[f],y.flags|=16):m.push(f)}}function r(y,f){if(!t)return null;for(;f!==null;)e(y,f),f=f.sibling;return null}function n(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function s(y,f){return y=Zt(y,f),y.index=0,y.sibling=null,y}function i(y,f,m){return y.index=m,t?(m=y.alternate,m!==null?(m=m.index,m<f?(y.flags|=2,f):m):(y.flags|=2,f)):(y.flags|=1048576,f)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,f,m,k){return f===null||f.tag!==6?(f=Co(m,y.mode,k),f.return=y,f):(f=s(f,m),f.return=y,f)}function a(y,f,m,k){var S=m.type;return S===Br?d(y,f,m.props.children,k,m.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rt&&Ou(S)===f.type)?(k=s(f,m.props),k.ref=Nn(y,f,m),k.return=y,k):(k=Zs(m.type,m.key,m.props,null,y.mode,k),k.ref=Nn(y,f,m),k.return=y,k)}function c(y,f,m,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=To(m,y.mode,k),f.return=y,f):(f=s(f,m.children||[]),f.return=y,f)}function d(y,f,m,k,S){return f===null||f.tag!==7?(f=wr(m,y.mode,k,S),f.return=y,f):(f=s(f,m),f.return=y,f)}function h(y,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Co(""+f,y.mode,m),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ks:return m=Zs(f.type,f.key,f.props,null,y.mode,m),m.ref=Nn(y,null,f),m.return=y,m;case Fr:return f=To(f,y.mode,m),f.return=y,f;case Rt:var k=f._init;return h(y,k(f._payload),m)}if($n(f)||kn(f))return f=wr(f,y.mode,m,null),f.return=y,f;As(y,f)}return null}function g(y,f,m,k){var S=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(y,f,""+m,k);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ks:return m.key===S?a(y,f,m,k):null;case Fr:return m.key===S?c(y,f,m,k):null;case Rt:return S=m._init,g(y,f,S(m._payload),k)}if($n(m)||kn(m))return S!==null?null:d(y,f,m,k,null);As(y,m)}return null}function v(y,f,m,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(m)||null,l(f,y,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ks:return y=y.get(k.key===null?m:k.key)||null,a(f,y,k,S);case Fr:return y=y.get(k.key===null?m:k.key)||null,c(f,y,k,S);case Rt:var N=k._init;return v(y,f,m,N(k._payload),S)}if($n(k)||kn(k))return y=y.get(m)||null,d(f,y,k,S,null);As(f,k)}return null}function w(y,f,m,k){for(var S=null,N=null,T=f,A=f=0,Q=null;T!==null&&A<m.length;A++){T.index>A?(Q=T,T=null):Q=T.sibling;var C=g(y,T,m[A],k);if(C===null){T===null&&(T=Q);break}t&&T&&C.alternate===null&&e(y,T),f=i(C,f,A),N===null?S=C:N.sibling=C,N=C,T=Q}if(A===m.length)return r(y,T),ne&&cr(y,A),S;if(T===null){for(;A<m.length;A++)T=h(y,m[A],k),T!==null&&(f=i(T,f,A),N===null?S=T:N.sibling=T,N=T);return ne&&cr(y,A),S}for(T=n(y,T);A<m.length;A++)Q=v(T,y,A,m[A],k),Q!==null&&(t&&Q.alternate!==null&&T.delete(Q.key===null?A:Q.key),f=i(Q,f,A),N===null?S=Q:N.sibling=Q,N=Q);return t&&T.forEach(function(V){return e(y,V)}),ne&&cr(y,A),S}function x(y,f,m,k){var S=kn(m);if(typeof S!="function")throw Error(j(150));if(m=S.call(m),m==null)throw Error(j(151));for(var N=S=null,T=f,A=f=0,Q=null,C=m.next();T!==null&&!C.done;A++,C=m.next()){T.index>A?(Q=T,T=null):Q=T.sibling;var V=g(y,T,C.value,k);if(V===null){T===null&&(T=Q);break}t&&T&&V.alternate===null&&e(y,T),f=i(V,f,A),N===null?S=V:N.sibling=V,N=V,T=Q}if(C.done)return r(y,T),ne&&cr(y,A),S;if(T===null){for(;!C.done;A++,C=m.next())C=h(y,C.value,k),C!==null&&(f=i(C,f,A),N===null?S=C:N.sibling=C,N=C);return ne&&cr(y,A),S}for(T=n(y,T);!C.done;A++,C=m.next())C=v(T,y,A,C.value,k),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?A:C.key),f=i(C,f,A),N===null?S=C:N.sibling=C,N=C);return t&&T.forEach(function(it){return e(y,it)}),ne&&cr(y,A),S}function b(y,f,m,k){if(typeof m=="object"&&m!==null&&m.type===Br&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ks:e:{for(var S=m.key,N=f;N!==null;){if(N.key===S){if(S=m.type,S===Br){if(N.tag===7){r(y,N.sibling),f=s(N,m.props.children),f.return=y,y=f;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rt&&Ou(S)===N.type){r(y,N.sibling),f=s(N,m.props),f.ref=Nn(y,N,m),f.return=y,y=f;break e}r(y,N);break}else e(y,N);N=N.sibling}m.type===Br?(f=wr(m.props.children,y.mode,k,m.key),f.return=y,y=f):(k=Zs(m.type,m.key,m.props,null,y.mode,k),k.ref=Nn(y,f,m),k.return=y,y=k)}return o(y);case Fr:e:{for(N=m.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(y,f.sibling),f=s(f,m.children||[]),f.return=y,y=f;break e}else{r(y,f);break}else e(y,f);f=f.sibling}f=To(m,y.mode,k),f.return=y,y=f}return o(y);case Rt:return N=m._init,b(y,f,N(m._payload),k)}if($n(m))return w(y,f,m,k);if(kn(m))return x(y,f,m,k);As(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(y,f.sibling),f=s(f,m),f.return=y,y=f):(r(y,f),f=Co(m,y.mode,k),f.return=y,y=f),o(y)):r(y,f)}return b}var un=Ud(!0),Md=Ud(!1),hi=rr(null),fi=null,Jr=null,da=null;function ha(){da=Jr=fi=null}function fa(t){var e=hi.current;re(hi),t._currentValue=e}function fl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function nn(t,e){fi=t,da=Jr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Oe=!0),t.firstContext=null)}function Qe(t){var e=t._currentValue;if(da!==t)if(t={context:t,memoizedValue:e,next:null},Jr===null){if(fi===null)throw Error(j(308));Jr=t,fi.dependencies={lanes:0,firstContext:t}}else Jr=Jr.next=t;return e}var mr=null;function pa(t){mr===null?mr=[t]:mr.push(t)}function zd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,pa(e)):(r.next=s.next,s.next=r),e.interleaved=r,Et(t,n)}function Et(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Dt=!1;function ma(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Et(t,r)}return s=n.interleaved,s===null?(e.next=e,pa(n)):(e.next=s.next,s.next=e),n.interleaved=e,Et(t,r)}function Ws(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ea(t,r)}}function Iu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pi(t,e,r,n){var s=t.updateQueue;Dt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var g=l.lane,v=l.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,x=l;switch(g=e,v=r,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(v,h,g);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,g=typeof w=="function"?w.call(v,h,g):w,g==null)break e;h=le({},h,g);break e;case 2:Dt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else v={eventTime:v,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,a=h):d=d.next=v,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Sr|=o,t.lanes=o,t.memoizedState=h}}function Lu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var ms={},ht=rr(ms),ns=rr(ms),ss=rr(ms);function gr(t){if(t===ms)throw Error(j(174));return t}function ga(t,e){switch(X(ss,e),X(ns,t),X(ht,ms),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ko(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ko(e,t)}re(ht),X(ht,e)}function cn(){re(ht),re(ns),re(ss)}function Bd(t){gr(ss.current);var e=gr(ht.current),r=Ko(e,t.type);e!==r&&(X(ns,t),X(ht,r))}function ya(t){ns.current===t&&(re(ht),re(ns))}var ie=rr(0);function mi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _o=[];function va(){for(var t=0;t<_o.length;t++)_o[t]._workInProgressVersionPrimary=null;_o.length=0}var Vs=Tt.ReactCurrentDispatcher,So=Tt.ReactCurrentBatchConfig,_r=0,oe=null,fe=null,ge=null,gi=!1,zn=!1,is=0,jm=0;function ke(){throw Error(j(321))}function wa(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!st(t[r],e[r]))return!1;return!0}function xa(t,e,r,n,s,i){if(_r=i,oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vs.current=t===null||t.memoizedState===null?Cm:Tm,t=r(n,s),zn){i=0;do{if(zn=!1,is=0,25<=i)throw Error(j(301));i+=1,ge=fe=null,e.updateQueue=null,Vs.current=Pm,t=r(n,s)}while(zn)}if(Vs.current=yi,e=fe!==null&&fe.next!==null,_r=0,ge=fe=oe=null,gi=!1,e)throw Error(j(300));return t}function ka(){var t=is!==0;return is=0,t}function at(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?oe.memoizedState=ge=t:ge=ge.next=t,ge}function Ge(){if(fe===null){var t=oe.alternate;t=t!==null?t.memoizedState:null}else t=fe.next;var e=ge===null?oe.memoizedState:ge.next;if(e!==null)ge=e,fe=t;else{if(t===null)throw Error(j(310));fe=t,t={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ge===null?oe.memoizedState=ge=t:ge=ge.next=t}return ge}function os(t,e){return typeof e=="function"?e(t):e}function jo(t){var e=Ge(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=fe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((_r&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=n):a=a.next=h,oe.lanes|=d,Sr|=d}c=c.next}while(c!==null&&c!==i);a===null?o=n:a.next=l,st(n,e.memoizedState)||(Oe=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=a,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,oe.lanes|=i,Sr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function bo(t){var e=Ge(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);st(i,e.memoizedState)||(Oe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function qd(){}function Hd(t,e){var r=oe,n=Ge(),s=e(),i=!st(n.memoizedState,s);if(i&&(n.memoizedState=s,Oe=!0),n=n.queue,_a(Kd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ge!==null&&ge.memoizedState.tag&1){if(r.flags|=2048,ls(9,Vd.bind(null,r,n,s,e),void 0,null),ye===null)throw Error(j(349));_r&30||Wd(r,e,s)}return s}function Wd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=oe.updateQueue,e===null?(e={lastEffect:null,stores:null},oe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Vd(t,e,r,n){e.value=r,e.getSnapshot=n,Qd(e)&&Gd(t)}function Kd(t,e,r){return r(function(){Qd(e)&&Gd(t)})}function Qd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!st(t,r)}catch{return!0}}function Gd(t){var e=Et(t,1);e!==null&&nt(e,t,1,-1)}function Ru(t){var e=at();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},e.queue=t,t=t.dispatch=Em.bind(null,oe,t),[e.memoizedState,t]}function ls(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=oe.updateQueue,e===null?(e={lastEffect:null,stores:null},oe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Jd(){return Ge().memoizedState}function Ks(t,e,r,n){var s=at();oe.flags|=t,s.memoizedState=ls(1|e,r,void 0,n===void 0?null:n)}function Di(t,e,r,n){var s=Ge();n=n===void 0?null:n;var i=void 0;if(fe!==null){var o=fe.memoizedState;if(i=o.destroy,n!==null&&wa(n,o.deps)){s.memoizedState=ls(e,r,i,n);return}}oe.flags|=t,s.memoizedState=ls(1|e,r,i,n)}function Du(t,e){return Ks(8390656,8,t,e)}function _a(t,e){return Di(2048,8,t,e)}function Zd(t,e){return Di(4,2,t,e)}function Yd(t,e){return Di(4,4,t,e)}function Xd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eh(t,e,r){return r=r!=null?r.concat([t]):null,Di(4,4,Xd.bind(null,e,t),r)}function Sa(){}function th(t,e){var r=Ge();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wa(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function rh(t,e){var r=Ge();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wa(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function nh(t,e,r){return _r&21?(st(r,e)||(r=ad(),oe.lanes|=r,Sr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Oe=!0),t.memoizedState=r)}function bm(t,e){var r=K;K=r!==0&&4>r?r:4,t(!0);var n=So.transition;So.transition={};try{t(!1),e()}finally{K=r,So.transition=n}}function sh(){return Ge().memoizedState}function Nm(t,e,r){var n=Jt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ih(t))oh(e,r);else if(r=zd(t,e,r,n),r!==null){var s=Ee();nt(r,t,n,s),lh(r,e,n)}}function Em(t,e,r){var n=Jt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ih(t))oh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,st(l,o)){var a=e.interleaved;a===null?(s.next=s,pa(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}r=zd(t,e,s,n),r!==null&&(s=Ee(),nt(r,t,n,s),lh(r,e,n))}}function ih(t){var e=t.alternate;return t===oe||e!==null&&e===oe}function oh(t,e){zn=gi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function lh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ea(t,r)}}var yi={readContext:Qe,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Cm={readContext:Qe,useCallback:function(t,e){return at().memoizedState=[t,e===void 0?null:e],t},useContext:Qe,useEffect:Du,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ks(4194308,4,Xd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ks(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ks(4,2,t,e)},useMemo:function(t,e){var r=at();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=at();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Nm.bind(null,oe,t),[n.memoizedState,t]},useRef:function(t){var e=at();return t={current:t},e.memoizedState=t},useState:Ru,useDebugValue:Sa,useDeferredValue:function(t){return at().memoizedState=t},useTransition:function(){var t=Ru(!1),e=t[0];return t=bm.bind(null,t[1]),at().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=oe,s=at();if(ne){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),ye===null)throw Error(j(349));_r&30||Wd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Du(Kd.bind(null,n,i,t),[t]),n.flags|=2048,ls(9,Vd.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=at(),e=ye.identifierPrefix;if(ne){var r=St,n=_t;r=(n&~(1<<32-rt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=is++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=jm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Tm={readContext:Qe,useCallback:th,useContext:Qe,useEffect:_a,useImperativeHandle:eh,useInsertionEffect:Zd,useLayoutEffect:Yd,useMemo:rh,useReducer:jo,useRef:Jd,useState:function(){return jo(os)},useDebugValue:Sa,useDeferredValue:function(t){var e=Ge();return nh(e,fe.memoizedState,t)},useTransition:function(){var t=jo(os)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:qd,useSyncExternalStore:Hd,useId:sh,unstable_isNewReconciler:!1},Pm={readContext:Qe,useCallback:th,useContext:Qe,useEffect:_a,useImperativeHandle:eh,useInsertionEffect:Zd,useLayoutEffect:Yd,useMemo:rh,useReducer:bo,useRef:Jd,useState:function(){return bo(os)},useDebugValue:Sa,useDeferredValue:function(t){var e=Ge();return fe===null?e.memoizedState=t:nh(e,fe.memoizedState,t)},useTransition:function(){var t=bo(os)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:qd,useSyncExternalStore:Hd,useId:sh,unstable_isNewReconciler:!1};function Ye(t,e){if(t&&t.defaultProps){e=le({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function pl(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:le({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ui={isMounted:function(t){return(t=t._reactInternals)?Nr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ee(),s=Jt(t),i=jt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Qt(t,i,s),e!==null&&(nt(e,t,s,n),Ws(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ee(),s=Jt(t),i=jt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Qt(t,i,s),e!==null&&(nt(e,t,s,n),Ws(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ee(),n=Jt(t),s=jt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Qt(t,s,n),e!==null&&(nt(e,t,n,r),Ws(e,t,n))}};function Uu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Xn(r,n)||!Xn(s,i):!0}function ah(t,e,r){var n=!1,s=er,i=e.contextType;return typeof i=="object"&&i!==null?i=Qe(i):(s=Le(e)?xr:be.current,n=e.contextTypes,i=(n=n!=null)?ln(t,s):er),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ui,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Mu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ui.enqueueReplaceState(e,e.state,null)}function ml(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},ma(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qe(i):(i=Le(e)?xr:be.current,s.context=ln(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(pl(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ui.enqueueReplaceState(s,s.state,null),pi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function dn(t,e){try{var r="",n=e;do r+=sp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function No(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function gl(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var $m=typeof WeakMap=="function"?WeakMap:Map;function uh(t,e,r){r=jt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){wi||(wi=!0,Nl=n),gl(t,e)},r}function ch(t,e,r){r=jt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){gl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){gl(t,e),typeof n!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function zu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new $m;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Wm.bind(null,t,e,r),e.then(t,t))}function Fu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=jt(-1,1),e.tag=2,Qt(r,e,1))),r.lanes|=1),t)}var Am=Tt.ReactCurrentOwner,Oe=!1;function Ne(t,e,r,n){e.child=t===null?Md(e,null,r,n):un(e,t.child,r,n)}function qu(t,e,r,n,s){r=r.render;var i=e.ref;return nn(e,s),n=xa(t,e,r,n,i,s),r=ka(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ct(t,e,s)):(ne&&r&&aa(e),e.flags|=1,Ne(t,e,n,s),e.child)}function Hu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!$a(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,dh(t,e,i,n,s)):(t=Zs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xn,r(o,n)&&t.ref===e.ref)return Ct(t,e,s)}return e.flags|=1,t=Zt(i,n),t.ref=e.ref,t.return=e,e.child=t}function dh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Xn(i,n)&&t.ref===e.ref)if(Oe=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Oe=!0);else return e.lanes=t.lanes,Ct(t,e,s)}return yl(t,e,r,n,s)}function hh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Yr,De),De|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(Yr,De),De|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,X(Yr,De),De|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,X(Yr,De),De|=n;return Ne(t,e,s,r),e.child}function fh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function yl(t,e,r,n,s){var i=Le(r)?xr:be.current;return i=ln(e,i),nn(e,s),r=xa(t,e,r,n,i,s),n=ka(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ct(t,e,s)):(ne&&n&&aa(e),e.flags|=1,Ne(t,e,r,s),e.child)}function Wu(t,e,r,n,s){if(Le(r)){var i=!0;ui(e)}else i=!1;if(nn(e,s),e.stateNode===null)Qs(t,e),ah(e,r,n),ml(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Qe(c):(c=Le(r)?xr:be.current,c=ln(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==c)&&Mu(e,o,n,c),Dt=!1;var g=e.memoizedState;o.state=g,pi(e,n,o,s),a=e.memoizedState,l!==n||g!==a||Ie.current||Dt?(typeof d=="function"&&(pl(e,r,d,n),a=e.memoizedState),(l=Dt||Uu(e,r,l,n,g,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),o.props=n,o.state=a,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Fd(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Ye(e.type,l),o.props=c,h=e.pendingProps,g=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=Qe(a):(a=Le(r)?xr:be.current,a=ln(e,a));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||g!==a)&&Mu(e,o,n,a),Dt=!1,g=e.memoizedState,o.state=g,pi(e,n,o,s);var w=e.memoizedState;l!==h||g!==w||Ie.current||Dt?(typeof v=="function"&&(pl(e,r,v,n),w=e.memoizedState),(c=Dt||Uu(e,r,c,n,g,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),o.props=n,o.state=w,o.context=a,n=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return vl(t,e,r,n,i,s)}function vl(t,e,r,n,s,i){fh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Pu(e,r,!1),Ct(t,e,i);n=e.stateNode,Am.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=un(e,t.child,null,i),e.child=un(e,null,l,i)):Ne(t,e,l,i),e.memoizedState=n.state,s&&Pu(e,r,!0),e.child}function ph(t){var e=t.stateNode;e.pendingContext?Tu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tu(t,e.context,!1),ga(t,e.containerInfo)}function Vu(t,e,r,n,s){return an(),ca(s),e.flags|=256,Ne(t,e,r,n),e.child}var wl={dehydrated:null,treeContext:null,retryLane:0};function xl(t){return{baseLanes:t,cachePool:null,transitions:null}}function mh(t,e,r){var n=e.pendingProps,s=ie.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),X(ie,s&1),t===null)return hl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fi(o,n,0,null),t=wr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xl(r),e.memoizedState=wl,t):ja(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Om(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=Zt(s,a),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Zt(l,i):(i=wr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?xl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=wl,n}return i=t.child,t=i.sibling,n=Zt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ja(t,e){return e=Fi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Os(t,e,r,n){return n!==null&&ca(n),un(e,t.child,null,r),t=ja(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Om(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=No(Error(j(422))),Os(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Fi({mode:"visible",children:n.children},s,0,null),i=wr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&un(e,t.child,null,o),e.child.memoizedState=xl(o),e.memoizedState=wl,i);if(!(e.mode&1))return Os(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(j(419)),n=No(i,n,void 0),Os(t,e,o,n)}if(l=(o&t.childLanes)!==0,Oe||l){if(n=ye,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Et(t,s),nt(n,t,s,-1))}return Pa(),n=No(Error(j(421))),Os(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Vm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ue=Kt(s.nextSibling),Me=e,ne=!0,tt=null,t!==null&&(qe[He++]=_t,qe[He++]=St,qe[He++]=kr,_t=t.id,St=t.overflow,kr=e),e=ja(e,n.children),e.flags|=4096,e)}function Ku(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fl(t.return,e,r)}function Eo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function gh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ne(t,e,n.children,r),n=ie.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ku(t,r,e);else if(t.tag===19)Ku(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(X(ie,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&mi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Eo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Eo(e,!0,r,null,i);break;case"together":Eo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ct(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Sr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=Zt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Zt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Im(t,e,r){switch(e.tag){case 3:ph(e),an();break;case 5:Bd(e);break;case 1:Le(e.type)&&ui(e);break;case 4:ga(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;X(hi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(X(ie,ie.current&1),e.flags|=128,null):r&e.child.childLanes?mh(t,e,r):(X(ie,ie.current&1),t=Ct(t,e,r),t!==null?t.sibling:null);X(ie,ie.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return gh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ie,ie.current),n)break;return null;case 22:case 23:return e.lanes=0,hh(t,e,r)}return Ct(t,e,r)}var yh,kl,vh,wh;yh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kl=function(){};vh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,gr(ht.current);var i=null;switch(r){case"input":s=qo(t,s),n=qo(t,n),i=[];break;case"select":s=le({},s,{value:void 0}),n=le({},n,{value:void 0}),i=[];break;case"textarea":s=Vo(t,s),n=Vo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=li)}Qo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var a=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(i||(i=[]),i.push(c,r)),r=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vn.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&te("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};wh=function(t,e,r,n){r!==n&&(e.flags|=4)};function En(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function _e(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Lm(t,e,r){var n=e.pendingProps;switch(ua(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(e),null;case 1:return Le(e.type)&&ai(),_e(e),null;case 3:return n=e.stateNode,cn(),re(Ie),re(be),va(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&($s(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tt!==null&&(Tl(tt),tt=null))),kl(t,e),_e(e),null;case 5:ya(e);var s=gr(ss.current);if(r=e.type,t!==null&&e.stateNode!=null)vh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return _e(e),null}if(t=gr(ht.current),$s(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ut]=e,n[rs]=i,t=(e.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(s=0;s<On.length;s++)te(On[s],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":ru(n,i),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},te("invalid",n);break;case"textarea":su(n,i),te("invalid",n)}Qo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ps(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ps(n.textContent,l,t),s=["children",""+l]):Vn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&te("scroll",n)}switch(r){case"input":_s(n),nu(n,i,!0);break;case"textarea":_s(n),iu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=li)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ut]=e,t[rs]=n,yh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Go(r,n),r){case"dialog":te("cancel",t),te("close",t),s=n;break;case"iframe":case"object":case"embed":te("load",t),s=n;break;case"video":case"audio":for(s=0;s<On.length;s++)te(On[s],t);s=n;break;case"source":te("error",t),s=n;break;case"img":case"image":case"link":te("error",t),te("load",t),s=n;break;case"details":te("toggle",t),s=n;break;case"input":ru(t,n),s=qo(t,n),te("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=le({},n,{value:void 0}),te("invalid",t);break;case"textarea":su(t,n),s=Vo(t,n),te("invalid",t);break;default:s=n}Qo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Jc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Qc(t,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Kn(t,a):typeof a=="number"&&Kn(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vn.hasOwnProperty(i)?a!=null&&i==="onScroll"&&te("scroll",t):a!=null&&Ql(t,i,a,o))}switch(r){case"input":_s(t),nu(t,n,!1);break;case"textarea":_s(t),iu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Xt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Xr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Xr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=li)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _e(e),null;case 6:if(t&&e.stateNode!=null)wh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=gr(ss.current),gr(ht.current),$s(e)){if(n=e.stateNode,r=e.memoizedProps,n[ut]=e,(i=n.nodeValue!==r)&&(t=Me,t!==null))switch(t.tag){case 3:Ps(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ps(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ut]=e,e.stateNode=n}return _e(e),null;case 13:if(re(ie),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&Ue!==null&&e.mode&1&&!(e.flags&128))Dd(),an(),e.flags|=98560,i=!1;else if(i=$s(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[ut]=e}else an(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_e(e),i=!1}else tt!==null&&(Tl(tt),tt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ie.current&1?pe===0&&(pe=3):Pa())),e.updateQueue!==null&&(e.flags|=4),_e(e),null);case 4:return cn(),kl(t,e),t===null&&es(e.stateNode.containerInfo),_e(e),null;case 10:return fa(e.type._context),_e(e),null;case 17:return Le(e.type)&&ai(),_e(e),null;case 19:if(re(ie),i=e.memoizedState,i===null)return _e(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)En(i,!1);else{if(pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mi(t),o!==null){for(e.flags|=128,En(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return X(ie,ie.current&1|2),e.child}t=t.sibling}i.tail!==null&&ce()>hn&&(e.flags|=128,n=!0,En(i,!1),e.lanes=4194304)}else{if(!n)if(t=mi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),En(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return _e(e),null}else 2*ce()-i.renderingStartTime>hn&&r!==1073741824&&(e.flags|=128,n=!0,En(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ce(),e.sibling=null,r=ie.current,X(ie,n?r&1|2:r&1),e):(_e(e),null);case 22:case 23:return Ta(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?De&1073741824&&(_e(e),e.subtreeFlags&6&&(e.flags|=8192)):_e(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function Rm(t,e){switch(ua(e),e.tag){case 1:return Le(e.type)&&ai(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cn(),re(Ie),re(be),va(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ya(e),null;case 13:if(re(ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));an()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(ie),null;case 4:return cn(),null;case 10:return fa(e.type._context),null;case 22:case 23:return Ta(),null;case 24:return null;default:return null}}var Is=!1,je=!1,Dm=typeof WeakSet=="function"?WeakSet:Set,$=null;function Zr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ae(t,e,n)}else r.current=null}function _l(t,e,r){try{r()}catch(n){ae(t,e,n)}}var Qu=!1;function Um(t,e){if(il=si,t=jd(),la(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=t,g=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(a=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)g=h,h=v;for(;;){if(h===t)break t;if(g===r&&++c===s&&(l=o),g===i&&++d===n&&(a=o),(v=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=v}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(ol={focusedElem:t,selectionRange:r},si=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,b=w.memoizedState,y=e.stateNode,f=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ye(e.type,x),b);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(k){ae(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return w=Qu,Qu=!1,w}function Fn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_l(e,r,i)}s=s.next}while(s!==n)}}function Mi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Sl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function xh(t){var e=t.alternate;e!==null&&(t.alternate=null,xh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ut],delete e[rs],delete e[ul],delete e[xm],delete e[km])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kh(t){return t.tag===5||t.tag===3||t.tag===4}function Gu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=li));else if(n!==4&&(t=t.child,t!==null))for(jl(t,e,r),t=t.sibling;t!==null;)jl(t,e,r),t=t.sibling}function bl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(bl(t,e,r),t=t.sibling;t!==null;)bl(t,e,r),t=t.sibling}var ve=null,Xe=!1;function At(t,e,r){for(r=r.child;r!==null;)_h(t,e,r),r=r.sibling}function _h(t,e,r){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount($i,r)}catch{}switch(r.tag){case 5:je||Zr(r,e);case 6:var n=ve,s=Xe;ve=null,At(t,e,r),ve=n,Xe=s,ve!==null&&(Xe?(t=ve,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ve.removeChild(r.stateNode));break;case 18:ve!==null&&(Xe?(t=ve,r=r.stateNode,t.nodeType===8?xo(t.parentNode,r):t.nodeType===1&&xo(t,r),Zn(t)):xo(ve,r.stateNode));break;case 4:n=ve,s=Xe,ve=r.stateNode.containerInfo,Xe=!0,At(t,e,r),ve=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!je&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_l(r,e,o),s=s.next}while(s!==n)}At(t,e,r);break;case 1:if(!je&&(Zr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ae(r,e,l)}At(t,e,r);break;case 21:At(t,e,r);break;case 22:r.mode&1?(je=(n=je)||r.memoizedState!==null,At(t,e,r),je=n):At(t,e,r);break;default:At(t,e,r)}}function Ju(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Dm),e.forEach(function(n){var s=Km.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Je(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,Xe=!1;break e;case 3:ve=l.stateNode.containerInfo,Xe=!0;break e;case 4:ve=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(ve===null)throw Error(j(160));_h(i,o,s),ve=null,Xe=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){ae(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sh(e,t),e=e.sibling}function Sh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Je(e,t),lt(t),n&4){try{Fn(3,t,t.return),Mi(3,t)}catch(x){ae(t,t.return,x)}try{Fn(5,t,t.return)}catch(x){ae(t,t.return,x)}}break;case 1:Je(e,t),lt(t),n&512&&r!==null&&Zr(r,r.return);break;case 5:if(Je(e,t),lt(t),n&512&&r!==null&&Zr(r,r.return),t.flags&32){var s=t.stateNode;try{Kn(s,"")}catch(x){ae(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Wc(s,i),Go(l,o);var c=Go(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?Jc(s,h):d==="dangerouslySetInnerHTML"?Qc(s,h):d==="children"?Kn(s,h):Ql(s,d,h,c)}switch(l){case"input":Ho(s,i);break;case"textarea":Vc(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Xr(s,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?Xr(s,!!i.multiple,i.defaultValue,!0):Xr(s,!!i.multiple,i.multiple?[]:"",!1))}s[rs]=i}catch(x){ae(t,t.return,x)}}break;case 6:if(Je(e,t),lt(t),n&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ae(t,t.return,x)}}break;case 3:if(Je(e,t),lt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zn(e.containerInfo)}catch(x){ae(t,t.return,x)}break;case 4:Je(e,t),lt(t);break;case 13:Je(e,t),lt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ea=ce())),n&4&&Ju(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(je=(c=je)||d,Je(e,t),je=c):Je(e,t),lt(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for($=t,d=t.child;d!==null;){for(h=$=d;$!==null;){switch(g=$,v=g.child,g.tag){case 0:case 11:case 14:case 15:Fn(4,g,g.return);break;case 1:Zr(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(x){ae(n,r,x)}}break;case 5:Zr(g,g.return);break;case 22:if(g.memoizedState!==null){Yu(h);continue}}v!==null?(v.return=g,$=v):Yu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Gc("display",o))}catch(x){ae(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){ae(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Je(e,t),lt(t),n&4&&Ju(t);break;case 21:break;default:Je(e,t),lt(t)}}function lt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(kh(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Kn(s,""),n.flags&=-33);var i=Gu(t);bl(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Gu(t);jl(t,l,o);break;default:throw Error(j(161))}}catch(a){ae(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mm(t,e,r){$=t,jh(t)}function jh(t,e,r){for(var n=(t.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Is;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||je;l=Is;var c=je;if(Is=o,(je=a)&&!c)for($=s;$!==null;)o=$,a=o.child,o.tag===22&&o.memoizedState!==null?Xu(s):a!==null?(a.return=o,$=a):Xu(s);for(;i!==null;)$=i,jh(i),i=i.sibling;$=s,Is=l,je=c}Zu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Zu(t)}}function Zu(t){for(;$!==null;){var e=$;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:je||Mi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!je)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ye(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Lu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Lu(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Zn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}je||e.flags&512&&Sl(e)}catch(g){ae(e,e.return,g)}}if(e===t){$=null;break}if(r=e.sibling,r!==null){r.return=e.return,$=r;break}$=e.return}}function Yu(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var r=e.sibling;if(r!==null){r.return=e.return,$=r;break}$=e.return}}function Xu(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Mi(4,e)}catch(a){ae(e,r,a)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(a){ae(e,s,a)}}var i=e.return;try{Sl(e)}catch(a){ae(e,i,a)}break;case 5:var o=e.return;try{Sl(e)}catch(a){ae(e,o,a)}}}catch(a){ae(e,e.return,a)}if(e===t){$=null;break}var l=e.sibling;if(l!==null){l.return=e.return,$=l;break}$=e.return}}var zm=Math.ceil,vi=Tt.ReactCurrentDispatcher,ba=Tt.ReactCurrentOwner,Ve=Tt.ReactCurrentBatchConfig,W=0,ye=null,de=null,we=0,De=0,Yr=rr(0),pe=0,as=null,Sr=0,zi=0,Na=0,Bn=null,$e=null,Ea=0,hn=1/0,yt=null,wi=!1,Nl=null,Gt=null,Ls=!1,qt=null,xi=0,qn=0,El=null,Gs=-1,Js=0;function Ee(){return W&6?ce():Gs!==-1?Gs:Gs=ce()}function Jt(t){return t.mode&1?W&2&&we!==0?we&-we:Sm.transition!==null?(Js===0&&(Js=ad()),Js):(t=K,t!==0||(t=window.event,t=t===void 0?16:md(t.type)),t):1}function nt(t,e,r,n){if(50<qn)throw qn=0,El=null,Error(j(185));hs(t,r,n),(!(W&2)||t!==ye)&&(t===ye&&(!(W&2)&&(zi|=r),pe===4&&zt(t,we)),Re(t,n),r===1&&W===0&&!(e.mode&1)&&(hn=ce()+500,Ri&&nr()))}function Re(t,e){var r=t.callbackNode;Sp(t,e);var n=ni(t,t===ye?we:0);if(n===0)r!==null&&au(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&au(r),e===1)t.tag===0?_m(ec.bind(null,t)):Id(ec.bind(null,t)),vm(function(){!(W&6)&&nr()}),r=null;else{switch(ud(n)){case 1:r=Xl;break;case 4:r=od;break;case 16:r=ri;break;case 536870912:r=ld;break;default:r=ri}r=Ah(r,bh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function bh(t,e){if(Gs=-1,Js=0,W&6)throw Error(j(327));var r=t.callbackNode;if(sn()&&t.callbackNode!==r)return null;var n=ni(t,t===ye?we:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ki(t,n);else{e=n;var s=W;W|=2;var i=Eh();(ye!==t||we!==e)&&(yt=null,hn=ce()+500,vr(t,e));do try{qm();break}catch(l){Nh(t,l)}while(!0);ha(),vi.current=i,W=s,de!==null?e=0:(ye=null,we=0,e=pe)}if(e!==0){if(e===2&&(s=el(t),s!==0&&(n=s,e=Cl(t,s))),e===1)throw r=as,vr(t,0),zt(t,n),Re(t,ce()),r;if(e===6)zt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Fm(s)&&(e=ki(t,n),e===2&&(i=el(t),i!==0&&(n=i,e=Cl(t,i))),e===1))throw r=as,vr(t,0),zt(t,n),Re(t,ce()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:dr(t,$e,yt);break;case 3:if(zt(t,n),(n&130023424)===n&&(e=Ea+500-ce(),10<e)){if(ni(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ee(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=al(dr.bind(null,t,$e,yt),e);break}dr(t,$e,yt);break;case 4:if(zt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-rt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zm(n/1960))-n,10<n){t.timeoutHandle=al(dr.bind(null,t,$e,yt),n);break}dr(t,$e,yt);break;case 5:dr(t,$e,yt);break;default:throw Error(j(329))}}}return Re(t,ce()),t.callbackNode===r?bh.bind(null,t):null}function Cl(t,e){var r=Bn;return t.current.memoizedState.isDehydrated&&(vr(t,e).flags|=256),t=ki(t,e),t!==2&&(e=$e,$e=r,e!==null&&Tl(e)),t}function Tl(t){$e===null?$e=t:$e.push.apply($e,t)}function Fm(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zt(t,e){for(e&=~Na,e&=~zi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-rt(e),n=1<<r;t[r]=-1,e&=~n}}function ec(t){if(W&6)throw Error(j(327));sn();var e=ni(t,0);if(!(e&1))return Re(t,ce()),null;var r=ki(t,e);if(t.tag!==0&&r===2){var n=el(t);n!==0&&(e=n,r=Cl(t,n))}if(r===1)throw r=as,vr(t,0),zt(t,e),Re(t,ce()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dr(t,$e,yt),Re(t,ce()),null}function Ca(t,e){var r=W;W|=1;try{return t(e)}finally{W=r,W===0&&(hn=ce()+500,Ri&&nr())}}function jr(t){qt!==null&&qt.tag===0&&!(W&6)&&sn();var e=W;W|=1;var r=Ve.transition,n=K;try{if(Ve.transition=null,K=1,t)return t()}finally{K=n,Ve.transition=r,W=e,!(W&6)&&nr()}}function Ta(){De=Yr.current,re(Yr)}function vr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,ym(r)),de!==null)for(r=de.return;r!==null;){var n=r;switch(ua(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ai();break;case 3:cn(),re(Ie),re(be),va();break;case 5:ya(n);break;case 4:cn();break;case 13:re(ie);break;case 19:re(ie);break;case 10:fa(n.type._context);break;case 22:case 23:Ta()}r=r.return}if(ye=t,de=t=Zt(t.current,null),we=De=e,pe=0,as=null,Na=zi=Sr=0,$e=Bn=null,mr!==null){for(e=0;e<mr.length;e++)if(r=mr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}mr=null}return t}function Nh(t,e){do{var r=de;try{if(ha(),Vs.current=yi,gi){for(var n=oe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}gi=!1}if(_r=0,ge=fe=oe=null,zn=!1,is=0,ba.current=null,r===null||r.return===null){pe=1,as=e,de=null;break}e:{var i=t,o=r.return,l=r,a=e;if(e=we,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Fu(o);if(v!==null){v.flags&=-257,Bu(v,o,l,i,e),v.mode&1&&zu(i,c,e),e=v,a=c;var w=e.updateQueue;if(w===null){var x=new Set;x.add(a),e.updateQueue=x}else w.add(a);break e}else{if(!(e&1)){zu(i,c,e),Pa();break e}a=Error(j(426))}}else if(ne&&l.mode&1){var b=Fu(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Bu(b,o,l,i,e),ca(dn(a,l));break e}}i=a=dn(a,l),pe!==4&&(pe=2),Bn===null?Bn=[i]:Bn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=uh(i,a,e);Iu(i,y);break e;case 1:l=a;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gt===null||!Gt.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=ch(i,l,e);Iu(i,k);break e}}i=i.return}while(i!==null)}Th(r)}catch(S){e=S,de===r&&r!==null&&(de=r=r.return);continue}break}while(!0)}function Eh(){var t=vi.current;return vi.current=yi,t===null?yi:t}function Pa(){(pe===0||pe===3||pe===2)&&(pe=4),ye===null||!(Sr&268435455)&&!(zi&268435455)||zt(ye,we)}function ki(t,e){var r=W;W|=2;var n=Eh();(ye!==t||we!==e)&&(yt=null,vr(t,e));do try{Bm();break}catch(s){Nh(t,s)}while(!0);if(ha(),W=r,vi.current=n,de!==null)throw Error(j(261));return ye=null,we=0,pe}function Bm(){for(;de!==null;)Ch(de)}function qm(){for(;de!==null&&!pp();)Ch(de)}function Ch(t){var e=$h(t.alternate,t,De);t.memoizedProps=t.pendingProps,e===null?Th(t):de=e,ba.current=null}function Th(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Rm(r,e),r!==null){r.flags&=32767,de=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pe=6,de=null;return}}else if(r=Lm(r,e,De),r!==null){de=r;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);pe===0&&(pe=5)}function dr(t,e,r){var n=K,s=Ve.transition;try{Ve.transition=null,K=1,Hm(t,e,r,n)}finally{Ve.transition=s,K=n}return null}function Hm(t,e,r,n){do sn();while(qt!==null);if(W&6)throw Error(j(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(jp(t,i),t===ye&&(de=ye=null,we=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ls||(Ls=!0,Ah(ri,function(){return sn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ve.transition,Ve.transition=null;var o=K;K=1;var l=W;W|=4,ba.current=null,Um(t,r),Sh(r,t),cm(ol),si=!!il,ol=il=null,t.current=r,Mm(r),mp(),W=l,K=o,Ve.transition=i}else t.current=r;if(Ls&&(Ls=!1,qt=t,xi=s),i=t.pendingLanes,i===0&&(Gt=null),vp(r.stateNode),Re(t,ce()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(wi)throw wi=!1,t=Nl,Nl=null,t;return xi&1&&t.tag!==0&&sn(),i=t.pendingLanes,i&1?t===El?qn++:(qn=0,El=t):qn=0,nr(),null}function sn(){if(qt!==null){var t=ud(xi),e=Ve.transition,r=K;try{if(Ve.transition=null,K=16>t?16:t,qt===null)var n=!1;else{if(t=qt,qt=null,xi=0,W&6)throw Error(j(331));var s=W;for(W|=4,$=t.current;$!==null;){var i=$,o=i.child;if($.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:Fn(8,d,i)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var g=d.sibling,v=d.return;if(xh(d),d===c){$=null;break}if(g!==null){g.return=v,$=g;break}$=v}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fn(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,$=y;break e}$=i.return}}var f=t.current;for($=f;$!==null;){o=$;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,$=m;else e:for(o=f;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mi(9,l)}}catch(S){ae(l,l.return,S)}if(l===o){$=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,$=k;break e}$=l.return}}if(W=s,nr(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot($i,t)}catch{}n=!0}return n}finally{K=r,Ve.transition=e}}return!1}function tc(t,e,r){e=dn(r,e),e=uh(t,e,1),t=Qt(t,e,1),e=Ee(),t!==null&&(hs(t,1,e),Re(t,e))}function ae(t,e,r){if(t.tag===3)tc(t,t,r);else for(;e!==null;){if(e.tag===3){tc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gt===null||!Gt.has(n))){t=dn(r,t),t=ch(e,t,1),e=Qt(e,t,1),t=Ee(),e!==null&&(hs(e,1,t),Re(e,t));break}}e=e.return}}function Wm(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ee(),t.pingedLanes|=t.suspendedLanes&r,ye===t&&(we&r)===r&&(pe===4||pe===3&&(we&130023424)===we&&500>ce()-Ea?vr(t,0):Na|=r),Re(t,e)}function Ph(t,e){e===0&&(t.mode&1?(e=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):e=1);var r=Ee();t=Et(t,e),t!==null&&(hs(t,e,r),Re(t,r))}function Vm(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Ph(t,r)}function Km(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),Ph(t,r)}var $h;$h=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ie.current)Oe=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Oe=!1,Im(t,e,r);Oe=!!(t.flags&131072)}else Oe=!1,ne&&e.flags&1048576&&Ld(e,di,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Qs(t,e),t=e.pendingProps;var s=ln(e,be.current);nn(e,r),s=xa(null,e,n,t,s,r);var i=ka();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Le(n)?(i=!0,ui(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ma(e),s.updater=Ui,e.stateNode=s,s._reactInternals=e,ml(e,n,t,r),e=vl(null,e,n,!0,i,r)):(e.tag=0,ne&&i&&aa(e),Ne(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Qs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Gm(n),t=Ye(n,t),s){case 0:e=yl(null,e,n,t,r);break e;case 1:e=Wu(null,e,n,t,r);break e;case 11:e=qu(null,e,n,t,r);break e;case 14:e=Hu(null,e,n,Ye(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),yl(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),Wu(t,e,n,s,r);case 3:e:{if(ph(e),t===null)throw Error(j(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Fd(t,e),pi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=dn(Error(j(423)),e),e=Vu(t,e,n,r,s);break e}else if(n!==s){s=dn(Error(j(424)),e),e=Vu(t,e,n,r,s);break e}else for(Ue=Kt(e.stateNode.containerInfo.firstChild),Me=e,ne=!0,tt=null,r=Md(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(an(),n===s){e=Ct(t,e,r);break e}Ne(t,e,n,r)}e=e.child}return e;case 5:return Bd(e),t===null&&hl(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ll(n,s)?o=null:i!==null&&ll(n,i)&&(e.flags|=32),fh(t,e),Ne(t,e,o,r),e.child;case 6:return t===null&&hl(e),null;case 13:return mh(t,e,r);case 4:return ga(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=un(e,null,n,r):Ne(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),qu(t,e,n,s,r);case 7:return Ne(t,e,e.pendingProps,r),e.child;case 8:return Ne(t,e,e.pendingProps.children,r),e.child;case 12:return Ne(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,X(hi,n._currentValue),n._currentValue=o,i!==null)if(st(i.value,o)){if(i.children===s.children&&!Ie.current){e=Ct(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=jt(-1,r&-r),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),fl(i.return,r,e),l.lanes|=r;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),fl(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ne(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,nn(e,r),s=Qe(s),n=n(s),e.flags|=1,Ne(t,e,n,r),e.child;case 14:return n=e.type,s=Ye(n,e.pendingProps),s=Ye(n.type,s),Hu(t,e,n,s,r);case 15:return dh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),Qs(t,e),e.tag=1,Le(n)?(t=!0,ui(e)):t=!1,nn(e,r),ah(e,n,s),ml(e,n,s,r),vl(null,e,n,!0,t,r);case 19:return gh(t,e,r);case 22:return hh(t,e,r)}throw Error(j(156,e.tag))};function Ah(t,e){return id(t,e)}function Qm(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(t,e,r,n){return new Qm(t,e,r,n)}function $a(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gm(t){if(typeof t=="function")return $a(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jl)return 11;if(t===Zl)return 14}return 2}function Zt(t,e){var r=t.alternate;return r===null?(r=We(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Zs(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")$a(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Br:return wr(r.children,s,i,e);case Gl:o=8,s|=8;break;case Mo:return t=We(12,r,e,s|2),t.elementType=Mo,t.lanes=i,t;case zo:return t=We(13,r,e,s),t.elementType=zo,t.lanes=i,t;case Fo:return t=We(19,r,e,s),t.elementType=Fo,t.lanes=i,t;case Bc:return Fi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zc:o=10;break e;case Fc:o=9;break e;case Jl:o=11;break e;case Zl:o=14;break e;case Rt:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=We(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function wr(t,e,r,n){return t=We(7,t,n,e),t.lanes=r,t}function Fi(t,e,r,n){return t=We(22,t,n,e),t.elementType=Bc,t.lanes=r,t.stateNode={isHidden:!1},t}function Co(t,e,r){return t=We(6,t,null,e),t.lanes=r,t}function To(t,e,r){return e=We(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jm(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ao(0),this.expirationTimes=ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Aa(t,e,r,n,s,i,o,l,a){return t=new Jm(t,e,r,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=We(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ma(i),t}function Zm(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Oh(t){if(!t)return er;t=t._reactInternals;e:{if(Nr(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Le(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(Le(r))return Od(t,r,e)}return e}function Ih(t,e,r,n,s,i,o,l,a){return t=Aa(r,n,!0,t,s,i,o,l,a),t.context=Oh(null),r=t.current,n=Ee(),s=Jt(r),i=jt(n,s),i.callback=e??null,Qt(r,i,s),t.current.lanes=s,hs(t,s,n),Re(t,n),t}function Bi(t,e,r,n){var s=e.current,i=Ee(),o=Jt(s);return r=Oh(r),e.context===null?e.context=r:e.pendingContext=r,e=jt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Qt(s,e,o),t!==null&&(nt(t,s,o,i),Ws(t,s,o)),o}function _i(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Oa(t,e){rc(t,e),(t=t.alternate)&&rc(t,e)}function Ym(){return null}var Lh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ia(t){this._internalRoot=t}qi.prototype.render=Ia.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Bi(t,e,null,null)};qi.prototype.unmount=Ia.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jr(function(){Bi(null,t,null,null)}),e[Nt]=null}};function qi(t){this._internalRoot=t}qi.prototype.unstable_scheduleHydration=function(t){if(t){var e=hd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Mt.length&&e!==0&&e<Mt[r].priority;r++);Mt.splice(r,0,t),r===0&&pd(t)}};function La(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nc(){}function Xm(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=_i(o);i.call(c)}}var o=Ih(e,n,t,0,null,!1,!1,"",nc);return t._reactRootContainer=o,t[Nt]=o.current,es(t.nodeType===8?t.parentNode:t),jr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=_i(a);l.call(c)}}var a=Aa(t,0,!1,null,null,!1,!1,"",nc);return t._reactRootContainer=a,t[Nt]=a.current,es(t.nodeType===8?t.parentNode:t),jr(function(){Bi(e,a,r,n)}),a}function Wi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=_i(o);l.call(a)}}Bi(e,o,t,s)}else o=Xm(r,e,t,s,n);return _i(o)}cd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=An(e.pendingLanes);r!==0&&(ea(e,r|1),Re(e,ce()),!(W&6)&&(hn=ce()+500,nr()))}break;case 13:jr(function(){var n=Et(t,1);if(n!==null){var s=Ee();nt(n,t,1,s)}}),Oa(t,1)}};ta=function(t){if(t.tag===13){var e=Et(t,134217728);if(e!==null){var r=Ee();nt(e,t,134217728,r)}Oa(t,134217728)}};dd=function(t){if(t.tag===13){var e=Jt(t),r=Et(t,e);if(r!==null){var n=Ee();nt(r,t,e,n)}Oa(t,e)}};hd=function(){return K};fd=function(t,e){var r=K;try{return K=t,e()}finally{K=r}};Zo=function(t,e,r){switch(e){case"input":if(Ho(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Li(n);if(!s)throw Error(j(90));Hc(n),Ho(n,s)}}}break;case"textarea":Vc(t,r);break;case"select":e=r.value,e!=null&&Xr(t,!!r.multiple,e,!1)}};Xc=Ca;ed=jr;var eg={usingClientEntryPoint:!1,Events:[ps,Vr,Li,Zc,Yc,Ca]},Cn={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tg={bundleType:Cn.bundleType,version:Cn.version,rendererPackageName:Cn.rendererPackageName,rendererConfig:Cn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nd(t),t===null?null:t.stateNode},findFiberByHostInstance:Cn.findFiberByHostInstance||Ym,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{$i=Rs.inject(tg),dt=Rs}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eg;Fe.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!La(e))throw Error(j(200));return Zm(t,e,null,r)};Fe.createRoot=function(t,e){if(!La(t))throw Error(j(299));var r=!1,n="",s=Lh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Aa(t,1,!1,null,null,r,!1,n,s),t[Nt]=e.current,es(t.nodeType===8?t.parentNode:t),new Ia(e)};Fe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=nd(e),t=t===null?null:t.stateNode,t};Fe.flushSync=function(t){return jr(t)};Fe.hydrate=function(t,e,r){if(!Hi(e))throw Error(j(200));return Wi(null,t,e,!0,r)};Fe.hydrateRoot=function(t,e,r){if(!La(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Lh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Ih(e,null,t,1,r??null,s,!1,i,o),t[Nt]=e.current,es(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new qi(e)};Fe.render=function(t,e,r){if(!Hi(e))throw Error(j(200));return Wi(null,t,e,!1,r)};Fe.unmountComponentAtNode=function(t){if(!Hi(t))throw Error(j(40));return t._reactRootContainer?(jr(function(){Wi(null,null,t,!1,function(){t._reactRootContainer=null,t[Nt]=null})}),!0):!1};Fe.unstable_batchedUpdates=Ca;Fe.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Hi(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Wi(t,e,r,!1,n)};Fe.version="18.3.1-next-f1338f8080-20240426";function Rh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rh)}catch(t){console.error(t)}}Rh(),Rc.exports=Fe;var rg=Rc.exports,Dh,sc=rg;Dh=sc.createRoot,sc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ng={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(t,e)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...c},d)=>O.createElement("svg",{ref:d,...ng,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${sg(t)}`,l].join(" "),...c},[...e.map(([h,g])=>O.createElement(h,g)),...Array.isArray(a)?a:[a]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=ee("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ee("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=ee("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mg=()=>{const[t,e]=O.useState("");return O.useEffect(()=>{let r=sessionStorage.getItem("quote-session-id");r||(r=`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("quote-session-id",r)),e(r)},[]),t},gg="modulepreload",yg=function(t,e){return new URL(t,e).href},lc={},gs=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),a=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=yg(c,n),c in lc)return;lc[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!n)for(let w=o.length-1;w>=0;w--){const x=o[w];if(x.href===c&&(!d||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":gg,d||(v.as="script"),v.crossOrigin="",v.href=c,a&&v.setAttribute("nonce",a),document.head.appendChild(v),d)return new Promise((w,x)=>{v.addEventListener("load",w),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},vg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>gs(async()=>{const{default:n}=await Promise.resolve().then(()=>yn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ra extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class wg extends Ra{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ac extends Ra{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uc extends Ra{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Al;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Al||(Al={}));var xg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};class kg{constructor(e,{headers:r={},customFetch:n,region:s=Al.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=vg(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return xg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:a}=r;a||(a=this.region);const c=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,c.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new wg(x)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new ac(h);if(!h.ok)throw new uc(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield h.json():v==="application/octet-stream"?w=yield h.blob():v==="text/event-stream"?w=h:v==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof uc||s instanceof ac?s.context:void 0}}})}}var Ae={},Da={},Vi={},ys={},Ki={},Qi={},_g=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fn=_g();const Sg=fn.fetch,Fh=fn.fetch.bind(fn),Bh=fn.Headers,jg=fn.Request,bg=fn.Response,yn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bh,Request:jg,Response:bg,default:Fh,fetch:Sg},Symbol.toStringTag,{value:"Module"})),Ng=Pf(yn);var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});let Eg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Gi.default=Eg;var qh=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qi,"__esModule",{value:!0});const Cg=qh(Ng),Tg=qh(Gi);let Pg=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Cg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let c=null,d=null,h=null,g=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,g=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,g=200,v="OK")}catch{i.status===404&&x===""?(g=204,v="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,g=200,v="OK"),c&&this.shouldThrowOnError)throw new Tg.default(c)}return{error:c,data:d,count:h,status:g,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Qi.default=Pg;var $g=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ki,"__esModule",{value:!0});const Ag=$g(Qi);let Og=class extends Ag.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ki.default=Og;var Ig=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ys,"__esModule",{value:!0});const Lg=Ig(Ki);let Rg=class extends Lg.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};ys.default=Rg;var Dg=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vi,"__esModule",{value:!0});const Tn=Dg(ys);let Ug=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Tn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Tn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Tn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Tn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Tn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Vi.default=Ug;var Ji={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.version=void 0;Zi.version="0.0.0-automated";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.DEFAULT_HEADERS=void 0;const Mg=Zi;Ji.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Mg.version}`};var Hh=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Da,"__esModule",{value:!0});const zg=Hh(Vi),Fg=Hh(ys),Bg=Ji;let qg=class Wh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Bg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new zg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Wh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Fg.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Da.default=qg;var vn=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.PostgrestError=Ae.PostgrestBuilder=Ae.PostgrestTransformBuilder=Ae.PostgrestFilterBuilder=Ae.PostgrestQueryBuilder=Ae.PostgrestClient=void 0;const Vh=vn(Da);Ae.PostgrestClient=Vh.default;const Kh=vn(Vi);Ae.PostgrestQueryBuilder=Kh.default;const Qh=vn(ys);Ae.PostgrestFilterBuilder=Qh.default;const Gh=vn(Ki);Ae.PostgrestTransformBuilder=Gh.default;const Jh=vn(Qi);Ae.PostgrestBuilder=Jh.default;const Zh=vn(Gi);Ae.PostgrestError=Zh.default;var Hg=Ae.default={PostgrestClient:Vh.default,PostgrestQueryBuilder:Kh.default,PostgrestFilterBuilder:Qh.default,PostgrestTransformBuilder:Gh.default,PostgrestBuilder:Jh.default,PostgrestError:Zh.default};const{PostgrestClient:Wg,PostgrestQueryBuilder:Bv,PostgrestFilterBuilder:qv,PostgrestTransformBuilder:Hv,PostgrestBuilder:Wv,PostgrestError:Vv}=Hg;function Vg(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Kg=Vg(),Qg="2.11.15",Gg=`realtime-js/${Qg}`,Jg="1.0.0",Yh=1e4,Zg=1e3;var Hn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Hn||(Hn={}));var Se;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Se||(Se={}));var et;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(et||(et={}));var Ol;(function(t){t.websocket="websocket"})(Ol||(Ol={}));var fr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fr||(fr={}));class Yg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const a=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class Xh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const cc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Xg(o,t,e,s),i),{})},Xg=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?ef(i,o):Il(o)},ef=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ny(e,r)}switch(t){case Y.bool:return ey(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return ty(e);case Y.json:case Y.jsonb:return ry(e);case Y.timestamp:return sy(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Il(e);default:return Il(e)}},Il=t=>t,ey=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ty=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ry=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ny=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ef(e,l))}return t},sy=t=>typeof t=="string"?t.replace(" ","T"):t,tf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $o{constructor(e,r,n={},s=Yh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(dc||(dc={}));class Wn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Wn.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const g=d.map(b=>b.presence_ref),v=h.map(b=>b.presence_ref),w=d.filter(b=>v.indexOf(b.presence_ref)<0),x=h.filter(b=>g.indexOf(b.presence_ref)<0);w.length>0&&(l[c]=w),x.length>0&&(a[c]=x)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(v=>v.presence_ref),g=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...g)}n(l,d,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,a),c.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hc||(hc={}));var fc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(fc||(fc={}));var vt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vt||(vt={}));class Ua{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $o(this,et.join,this.params,this.timeout),this.rejoinTimer=new Xh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Se.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Wn(this),this.broadcastEndpointURL=tf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Se.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(vt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(vt.CLOSED));const a={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(vt.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(h=g==null?void 0:g.length)!==null&&h!==void 0?h:0,w=[];for(let x=0;x<v;x++){const b=g[x],{filter:{event:y,schema:f,table:m,filter:k}}=b,S=d&&d[x];if(S&&S.event===y&&S.schema===f&&S.table===m&&S.filter===k)w.push(Object.assign(Object.assign({},b),{id:S.id}));else{this.unsubscribe(),this.state=Se.errored,e==null||e(vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(vt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Se.errored,e==null||e(vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Se.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new $o(this,et.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $o(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=et;if(n&&[l,a,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,x,b;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(x=v.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,x,b,y,f,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const k=v.id,S=(w=v.filter)===null||w===void 0?void 0:w.event;return k&&((x=r.ids)===null||x===void 0?void 0:x.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(f=(y=v==null?void 0:v.filter)===null||y===void 0?void 0:y.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return k==="*"||k===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:x,table:b,commit_timestamp:y,type:f,errors:m}=w;g=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:y,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(w))}v.callback(g,n)})}_isClosed(){return this.state===Se.closed}_isJoined(){return this.state===Se.joined}_isJoining(){return this.state===Se.joining}_isLeaving(){return this.state===Se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ua.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(et.close,{},e)}_onError(e){this._on(et.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=cc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=cc(e.columns,e.old_record)),r}}const pc=()=>{},iy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oy{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pc,this.ref=0,this.logger=pc,this.conn=null,this.sendBuffer=[],this.serializer=new Yg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>gs(async()=>{const{default:a}=await Promise.resolve().then(()=>yn);return{default:a}},void 0,import.meta.url).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Ol.websocket}`,this.httpEndpoint=tf(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Kg),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jg}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hn.connecting:return fr.Connecting;case Hn.open:return fr.Open;case Hn.closing:return fr.Closing;default:return fr.Closed}}isConnected(){return this.connectionState()===fr.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ua(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Gg};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(et.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Zg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(et.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([iy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Ma extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ly extends Ma{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ll extends Ma{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var ay=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const rf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>gs(async()=>{const{default:n}=await Promise.resolve().then(()=>yn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},uy=()=>ay(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gs(()=>Promise.resolve().then(()=>yn),void 0,import.meta.url)).Response:Response}),Rl=t=>{if(Array.isArray(t))return t.map(r=>Rl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Rl(n)}),e};var Er=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const Ao=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cy=(t,e,r)=>Er(void 0,void 0,void 0,function*(){const n=yield uy();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new ly(Ao(s),t.status||500))}).catch(s=>{e(new Ll(Ao(s),s))}):e(new Ll(Ao(t),t))}),dy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function vs(t,e,r,n,s,i){return Er(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,dy(e,n,s,i)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>cy(a,l,n))})})}function bi(t,e,r,n){return Er(this,void 0,void 0,function*(){return vs(t,"GET",e,r,n)})}function Ut(t,e,r,n,s){return Er(this,void 0,void 0,function*(){return vs(t,"POST",e,n,s,r)})}function hy(t,e,r,n,s){return Er(this,void 0,void 0,function*(){return vs(t,"PUT",e,n,s,r)})}function fy(t,e,r,n){return Er(this,void 0,void 0,function*(){return vs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function nf(t,e,r,n,s){return Er(this,void 0,void 0,function*(){return vs(t,"DELETE",e,n,s,r)})}var Pe=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const py={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class my{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=rf(s)}uploadOrUpdate(e,r,n,s){return Pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},mc),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield h.json();return h.ok?{data:{path:c,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(me(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let a;const c=Object.assign({upsert:mc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",c.cacheControl)):(a=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),g=yield h.json();return h.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(a){if(me(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,r){return Pe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ut(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ma("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}update(e,r,n){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Pe(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Pe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ut(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Pe(this,void 0,void 0,function*(){try{const s=yield Ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}download(e,r){return Pe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield bi(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(me(l))return{data:null,error:l};throw l}})}info(e){return Pe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield bi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Rl(n),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}exists(e){return Pe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield fy(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(me(n)&&n instanceof Ll){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}list(e,r,n){return Pe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},py),r),{prefix:e||""});return{data:yield Ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const gy="2.7.1",yy={"X-Client-Info":`storage-js/${gy}`};var Ir=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};class vy{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},yy),r),this.fetch=rf(n)}listBuckets(){return Ir(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}getBucket(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Ir(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Ir(this,void 0,void 0,function*(){try{return{data:yield hy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}}class wy extends vy{constructor(e,r={},n){super(e,r,n)}from(e){return new my(this.url,this.headers,e,this.fetch)}}const xy="2.51.0";let In="";typeof Deno<"u"?In="deno":typeof document<"u"?In="web":typeof navigator<"u"&&navigator.product==="ReactNative"?In="react-native":In="node";const ky={"X-Client-Info":`supabase-js-${In}/${xy}`},_y={headers:ky},Sy={schema:"public"},jy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},by={};var Ny=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const Ey=t=>{let e;return t?e=t:typeof fetch>"u"?e=Fh:e=fetch,(...r)=>e(...r)},Cy=()=>typeof Headers>"u"?Bh:Headers,Ty=(t,e,r)=>{const n=Ey(r),s=Cy();return(i,o)=>Ny(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Py=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};function $y(t){return t.endsWith("/")?t:t+"/"}function Ay(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:c,realtime:d,global:h}=e,g={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Py(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const sf="2.71.0",Mr=30*1e3,Dl=3,Oo=Dl*Mr,Oy="http://localhost:9999",Iy="supabase.auth.token",Ly={"X-Client-Info":`gotrue-js/${sf}`},Ul="X-Supabase-Api-Version",of={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ry=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dy=10*60*1e3;class za extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Uy extends za{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function My(t){return U(t)&&t.name==="AuthApiError"}class lf extends za{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class sr extends za{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Lt extends sr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zy(t){return U(t)&&t.name==="AuthSessionMissingError"}class Ds extends sr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Us extends sr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ms extends sr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fy(t){return U(t)&&t.name==="AuthImplicitGrantRedirectError"}class gc extends sr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ml extends sr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Io(t){return U(t)&&t.name==="AuthRetryableFetchError"}class yc extends sr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zl extends sr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vc=` 	
\r=`.split(""),By=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vc.length;e+=1)t[vc[e].charCodeAt(0)]=-2;for(let e=0;e<Ni.length;e+=1)t[Ni[e].charCodeAt(0)]=e;return t})();function wc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ni[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ni[n]),e.queuedBits-=6}}function af(t,e,r){const n=By[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Wy(o,n,r)};for(let o=0;o<t.length;o+=1)af(t.charCodeAt(o),s,i);return e.join("")}function qy(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Hy(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}qy(n,e)}}function Wy(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Vy(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)af(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Ky(t){const e=[];return Hy(t,r=>e.push(r)),new Uint8Array(e)}function Qy(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>wc(s,r,n)),wc(null,r,n),e.join("")}function Gy(t){return Math.round(Date.now()/1e3)+t}function Jy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ze=()=>typeof window<"u"&&typeof document<"u",ar={tested:!1,writable:!1},uf=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ar.tested)return ar.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ar.tested=!0,ar.writable=!0}catch{ar.tested=!0,ar.writable=!1}return ar.writable};function Zy(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const cf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>gs(async()=>{const{default:n}=await Promise.resolve().then(()=>yn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Yy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ur=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ot=async(t,e)=>{await t.removeItem(e)};class Yi{constructor(){this.promise=new Yi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Yi.promiseConstructor=Promise;function Lo(t){const e=t.split(".");if(e.length!==3)throw new zl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Ry.test(e[n]))throw new zl("JWT not in base64url format");return{header:JSON.parse(xc(e[0])),payload:JSON.parse(xc(e[1])),signature:Vy(e[2]),raw:{header:e[0],payload:e[1]}}}async function Xy(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ev(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function tv(t){return("0"+t.toString(16)).substr(-2)}function rv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,tv).join("")}async function nv(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function sv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await nv(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lr(t,e,r=!1){const n=rv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await zr(t,`${e}-code-verifier`,s);const i=await sv(n);return[i,n===i?"plain":"s256"]}const iv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ov(t){const e=t.headers.get(Ul);if(!e||!e.match(iv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function lv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function av(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rr(t){if(!uv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ro(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var cv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const hr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dv=[502,503,504];async function kc(t){var e;if(!Yy(t))throw new Ml(hr(t),0);if(dv.includes(t.status))throw new Ml(hr(t),t.status);let r;try{r=await t.json()}catch(i){throw new lf(hr(i),i)}let n;const s=ov(t);if(s&&s.getTime()>=of["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yc(hr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Lt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yc(hr(r),t.status,r.weak_password.reasons);throw new Uy(hr(r),t.status||500,n)}const hv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function B(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ul]||(i[Ul]=of["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await fv(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function fv(t,e,r,n,s,i){const o=hv(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(a){throw console.error(a),new Ml(hr(a),0)}if(l.ok||await kc(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(a){await kc(a)}}function gt(t){var e;let r=null;yv(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Gy(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function _c(t){const e=gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ft(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function pv(t){return{data:t,error:null}}function mv(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=cv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function gv(t){return t}function yv(t){return t.access_token&&t.refresh_token&&t.expires_in}const Do=["global","local","others"];var vv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class wv{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=cf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Do[0]){if(Do.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Do.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ft})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=vv(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ft})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:gv});if(d.error)throw d.error;const h=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);c[`${b}Page`]=x}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Rr(e);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ft})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Rr(e);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ft})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Rr(e);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ft})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Rr(e.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Rr(e.userId),Rr(e.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}function Sc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function xv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Dr={debug:!!(globalThis&&uf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class df extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kv extends df{}async function _v(t,e,r){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Dr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}xv();const Sv={url:Oy,storageKey:Iy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ly,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jc(t,e,r){return await r()}const Ur={};class us{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=us.nextInstanceID,us.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Sv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new wv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=cf(s.fetch),this.lock=s.lock||jc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ze()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=_v:this.lock=jc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:uf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Sc(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Ur[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ur[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Zy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ze()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fy(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?{error:r}:{error:new lf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:gt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:g}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Lr(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:w},xform:gt})}else if("phone"in e){const{phone:d,password:h,options:g}=e;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:gt})}else throw new Us("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_c})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_c})}else throw new Us("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ds}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,a,c,d,h,g,v;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:b,wallet:y,statement:f,options:m}=e;let k;if(Ze())if(typeof y=="object")k=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))k=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const N=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),f?{statement:f}:null));let T;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")T=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)T=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)w=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),x=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const N=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:b,error:y}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Qy(x)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:gt});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ds}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(U(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await ur(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gt});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ds}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gt}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Ds}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Lr(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Us("You must provide either an email or phone number.")}catch(l){if(U(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Lr(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:pv})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Lt;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(U(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Us("You must provide either an email or phone number and a type")}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Oo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ur(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ro()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ft}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ft})})}catch(r){if(U(r))return zy(r)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Lt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await Lr(this.storage,this.storageKey));const{data:c,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Ft});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Lt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Lo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(U(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Lt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ze())throw new Ms("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ms(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ms("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gc("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new Ms("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let g=d+h;a&&(g=parseInt(a));const v=g-d;v*1e3<=Mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=g-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,d);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(U(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ur(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(My(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Jy(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Lr(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:g}=i;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ze()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(U(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ev(async s=>(s>0&&await Xy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Io(i)&&Date.now()+o-n<Mr})}catch(n){if(this._debug(r,"error",n),U(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ze()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ur(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await zr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ro()}else if(s&&!s.user&&!s.user){const o=await ur(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ot(this.storage,this.storageKey+"-user"),await zr(this.storage,this.storageKey,s)):s.user=Ro()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Oo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Oo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Io(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Yi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Lt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),U(i)){const o={session:null,error:i};return Io(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=structuredClone(s);await zr(this.storage,this.storageKey,i)}else{const s=structuredClone(r);await zr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Mr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mr}ms, refresh threshold is ${Dl} ticks`),s<=Dl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof df)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Lr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await B(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Lo(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Dy>s)return n;const{data:i,error:o}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=Lo(n);r!=null&&r.allowExpired||lv(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=av(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Ky(`${l}.${a}`)))throw new zl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}us.nextInstanceID=0;const jv=us;class bv extends jv{constructor(e){super(e)}}var Nv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};class Ev{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=$y(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:Sy,realtime:by,auth:Object.assign(Object.assign({},jy),{storageKey:c}),global:_y},h=Ay(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Ty(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Wg(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new kg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wy(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Nv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:a},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new oy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Cv=(t,e,r)=>new Ev(t,e,r),hf="https://oorgoezqxexsewcwasvh.supabase.co",Tv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9vcmdvZXpxeGV4c2V3Y3dhc3ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3MTU0NzUsImV4cCI6MjA2ODI5MTQ3NX0.PLGUswNkjeNbbOOEsD7MpLuCY0HSwUMAGO3Q-IPAfjw";hf.includes("your-project")&&console.error("Missing Supabase environment variables. Please check your .env file.");const kt=Cv(hf,Tv),Pv=()=>{const[t,e]=O.useState(!1),[r,n]=O.useState(!0),[s,i]=O.useState(null),o=async()=>{try{n(!0),i(null);const{data:l,error:a}=await kt.from("api_key_storage").select("encrypted_key").eq("id","c9f1ba25-04c8-4e36-b942-ff20dfa3d8b3").single();if(a&&a.code!=="PGRST116")throw a;e(!!(l!=null&&l.encrypted_key))}catch(l){console.error("Error checking API key:",l),i(l instanceof Error?l.message:"Failed to check API key"),e(!1)}finally{n(!1)}};return O.useEffect(()=>{o()},[]),{hasApiKey:t,loading:r,error:s,refetch:o}},Fa=class Fa{static async getApiKey(){try{const{data:e,error:r}=await kt.from("api_key_storage").select("encrypted_key").eq("id",this.FIXED_KEY_ID).single();if(r)return console.error("Error fetching API key:",r),null;if(!(e!=null&&e.encrypted_key))return null;try{return new TextDecoder().decode(Uint8Array.from(atob(e.encrypted_key),n=>n.charCodeAt(0)))}catch(n){return console.error("Failed to decrypt API key:",n),null}}catch(e){return console.error("Error in getApiKey:",e),null}}static async saveApiKey(e){try{const r=btoa(String.fromCharCode(...new TextEncoder().encode(e))),{error:n}=await kt.from("api_key_storage").upsert({id:this.FIXED_KEY_ID,key_name:"chatgpt_api_key",encrypted_key:r});return n?(console.error("Error saving API key:",n),!1):!0}catch(r){return console.error("Error in saveApiKey:",r),!1}}static async hasApiKey(){return!!await this.getApiKey()}};Fa.FIXED_KEY_ID="c9f1ba25-04c8-4e36-b942-ff20dfa3d8b3";let cs=Fa;const Ci=class Ci{static async extractProjectInfo(e,r){try{if(!this.SUPABASE_URL||!this.SUPABASE_ANON_KEY)throw new Error("Supabase configuration missing. Please check environment variables.");if(!(e!=null&&e.trim()))throw new Error("Text is required");if(!(r!=null&&r.trim()))throw new Error("Session ID is required");if(!await cs.hasApiKey())throw new Error("OpenAI API key not configured. Please set up your API key first.");const s=await fetch(`${this.SUPABASE_URL}/functions/v1/ai-extract-project`,{method:"POST",headers:{Authorization:`Bearer ${this.SUPABASE_ANON_KEY}`,"Content-Type":"application/json"},body:JSON.stringify({text:e.trim(),sessionId:r})});if(!s.ok){const o=await s.json().catch(()=>({error:"Network error"}));throw new Error(o.error||`HTTP ${s.status}: ${s.statusText}`)}const i=await s.json();if(!i.success)throw new Error(i.error||"Extraction failed");return{success:!0,equipmentData:i.equipmentData,logisticsData:i.logisticsData}}catch(n){return console.error("AI Extraction Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown extraction error"}}}};Ci.SUPABASE_URL="https://oorgoezqxexsewcwasvh.supabase.co",Ci.SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9vcmdvZXpxeGV4c2V3Y3dhc3ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3MTU0NzUsImV4cCI6MjA2ODI5MTQ3NX0.PLGUswNkjeNbbOOEsD7MpLuCY0HSwUMAGO3Q-IPAfjw";let Fl=Ci;const $v=({isOpen:t,onClose:e,onExtract:r,sessionId:n})=>{const[s,i]=O.useState(""),[o,l]=O.useState(!1),[a,c]=O.useState([{id:"1",type:"system",content:"Hi! I can help extract project information from emails, work orders, or any text. I'll automatically fill out both the equipment and logistics quote forms with the extracted data.",timestamp:new Date}]),{hasApiKey:d,loading:h,error:g}=Pv(),v=(b,y)=>{c(f=>[...f,{id:Date.now().toString(),type:b,content:y,timestamp:new Date}])},w=async b=>{if(b.preventDefault(),!s.trim()||o)return;if(!n){v("error","Session not ready. Please wait a moment and try again.");return}if(!d){v("error","OpenAI API key not configured. Please set up your API key first.");return}const y=s.trim();i(""),l(!0),v("user",y);try{const f=await Fl.extractProjectInfo(y,n);if(f.success){const{equipmentData:m,logisticsData:k}=f;if(m&&Object.keys(m).length||k&&Object.keys(k).length){r(m,k);const S=[];m&&Object.keys(m).length&&S.push(`Equipment: ${Object.keys(m).join(", ")}`),k&&Object.keys(k).length&&S.push(`Logistics: ${Object.keys(k).join(", ")}`),v("ai",`Great! I extracted information for: ${S.join(" | ")}. Both forms have been updated with the extracted data.`)}else v("ai","I couldn't find any project information in that text. Try including details like project name, company, address, contact info, or work description.")}else v("error",f.error||"Extraction failed")}catch(f){console.error("Extraction error:",f),v("error",`Sorry, there was an error: ${f instanceof Error?f.message:"Unknown error"}`)}finally{l(!1)}};if(!t)return null;const x=!h&&d&&n;return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 border-2 border-accent rounded-2xl shadow-2xl w-full max-w-2xl h-[600px] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b-2 border-accent",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ys,{className:"w-6 h-6 text-white mr-2"}),u.jsx("h3",{className:"text-xl font-bold text-white",children:"AI Project Extractor"})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-black rounded-lg transition-colors",children:u.jsx(ji,{className:"w-5 h-5 text-white"})})]}),u.jsxs("div",{className:"px-6 py-3 border-b-2 border-accent",children:[h&&u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(ct,{className:"w-4 h-4 animate-spin mr-2"}),u.jsx("span",{className:"text-sm",children:"Checking API key..."})]}),!h&&!d&&u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(Si,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"text-sm",children:"API key not configured"})]}),!n&&u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(ct,{className:"w-4 h-4 animate-spin mr-2"}),u.jsx("span",{className:"text-sm",children:"Initializing session..."})]}),g&&u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(Si,{className:"w-4 h-4 mr-2"}),u.jsxs("span",{className:"text-sm",children:["Error: ",g]})]}),x&&u.jsxs("div",{className:"flex items-center text-black",children:[u.jsx(Yt,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"text-sm",children:"Ready to extract"})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a.map(b=>u.jsx("div",{className:`flex ${b.type==="user"?"justify-end":"justify-start"}`,children:u.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${b.type==="user"?"bg-white text-black":b.type==="system"?"bg-black text-white":b.type==="error"?"bg-black text-white border border-accent":"bg-black text-white"}`,children:u.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b.content})})},b.id)),o&&u.jsx("div",{className:"flex justify-start",children:u.jsxs("div",{className:"bg-black text-white p-3 rounded-lg flex items-center",children:[u.jsx(ct,{className:"w-4 h-4 animate-spin mr-2"}),u.jsx("span",{className:"text-sm",children:"Analyzing text..."})]})})]}),u.jsx("div",{className:"p-6 border-t-2 border-accent",children:u.jsxs("form",{onSubmit:w,className:"space-y-4",children:[u.jsx("textarea",{value:s,onChange:b=>i(b.target.value),placeholder:x?"Paste your email, work order, or project description here...":"Please wait for system to be ready...",className:"w-full px-4 py-3 bg-black border border-accent rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent resize-none disabled:bg-black disabled:text-white text-white placeholder-white",rows:3,disabled:o||!x}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",disabled:o||!s.trim()||!x,className:"flex items-center px-6 py-2 bg-white text-black rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?u.jsxs(u.Fragment,{children:[u.jsx(ct,{className:"w-4 h-4 animate-spin mr-2"}),"Analyzing..."]}):x?u.jsxs(u.Fragment,{children:[u.jsx(fg,{className:"w-4 h-4 mr-2"}),"Extract Info"]}):u.jsxs(u.Fragment,{children:[u.jsx(ct,{className:"w-4 h-4 animate-spin mr-2"}),"Not Ready"]})})})]})})]})})},Av=({equipmentData:t,logisticsData:e,isOpen:r,onClose:n})=>{const[s,i]=O.useState("email"),[o,l]=O.useState(null),a=()=>{const v=t.projectName||"[Project Name]",w=t.companyName||"[Company Name]",x=t.contactName||"[Contact Name]",b=t.projectAddress||"[Project Address]",y=t.city||"[City]",f=t.state||"[State]",m=t.projectDescription||"[Project Description]",k=e.pickupAddress||b,S=e.pickupCity||y,N=e.pickupState||f,T=e.deliveryAddress||"[Delivery Address]",A=e.deliveryCity||"[Delivery City]",Q=e.deliveryState||"[Delivery State]";return`Subject: Quote Request - ${v}

Dear Omega Morgan Team,

I hope this email finds you well. I am writing to request a quote for an upcoming project that requires your specialized equipment and logistics services.

PROJECT DETAILS:
 Project Name: ${v}
 Company: ${w}
 Contact: ${x}
 Project Location: ${b}, ${y}, ${f}

PROJECT DESCRIPTION:
${m}

LOGISTICS REQUIREMENTS:
 Pickup Location: ${k}, ${S}, ${N}
 Delivery Location: ${T}, ${A}, ${Q}
 Service Type: ${e.serviceType||"Standard Delivery"}
${e.specialHandling?` Special Handling: ${e.specialHandling}`:""}

${e.pieces&&e.pieces.length>0?`ITEMS TO TRANSPORT:
${e.pieces.map(C=>`${index+1}. ${C.description||"[Description]"} - ${C.length||"[L]"}"L x ${C.width||"[W]"}"W x ${C.height||"[H]"}"H, ${C.weight||"[Weight]"} lbs`).join(`
`)}`:""}

Please provide a detailed quote including all equipment, labor, and transportation costs. We would appreciate receiving this quote at your earliest convenience.

${t.specialInstructions?`SPECIAL INSTRUCTIONS:
${t.specialInstructions}`:""}

Thank you for your time and consideration. I look forward to hearing from you soon.

Best regards,
${x}
${w}
${t.email||"[Email]"}
${t.phone||"[Phone]"}`},c=()=>{const v=t.projectAddress||"[Project Address]",w=t.city||"[City]",x=t.state||"[State]",b=t.contactName||"[Site Contact]",y=t.phone||"[Site Contact Phone Number]";return`SCOPE OF WORK

Mobilize crew and Omega Morgan equipment to site: ${v}, ${w}, ${x}

${b}
${y}

Omega Morgan to supply 3-man crew, Gear Truck and Trailer.

${t.projectDescription?`PROJECT DESCRIPTION:
${t.projectDescription}

`:""}${e.pieces&&e.pieces.length>0?`ITEMS TO HANDLE:
${e.pieces.map(f=>` ${f.description||"[Item Description]"} - ${f.length||"[L]"}"L x ${f.width||"[W]"}"W x ${f.height||"[H]"}"H, ${f.weight||"[Weight]"} lbs`).join(`
`)}

`:""}${e.specialHandling?`SPECIAL HANDLING REQUIREMENTS:
${e.specialHandling}

`:""}${t.specialInstructions?`SPECIAL INSTRUCTIONS:
${t.specialInstructions}

`:""}When job is complete clean up debris and return to [Shop].`},d=async(v,w)=>{try{await navigator.clipboard.writeText(v),l(w),setTimeout(()=>l(null),2e3)}catch(x){console.error("Failed to copy text: ",x)}};if(!r)return null;const h=a(),g=c();return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 border-2 border-accent rounded-2xl text-white shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b-2 border-accent",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Mh,{className:"w-6 h-6 text-white mr-2"}),u.jsx("h3",{className:"text-xl font-bold text-white",children:"Preview Te"})]}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-white rounded-lg transition-colors",children:u.jsx(ji,{className:"w-5 h-5 text-white"})})]}),u.jsxs("div",{className:"flex border-b-2 border-accent",children:[u.jsxs("button",{onClick:()=>i("email"),className:`flex-1 flex items-center justify-center px-6 py-3 transition-colors ${s==="email"?"bg-gray-900 text-white border-b-2 border-accent":"text-white hover:text-white hover:bg-gray-800"}`,children:[u.jsx(Pl,{className:"w-4 h-4 mr-2"}),"Email Template"]}),u.jsxs("button",{onClick:()=>i("scope"),className:`flex-1 flex items-center justify-center px-6 py-3 transition-colors ${s==="scope"?"bg-gray-900 text-white border-b-2 border-accent":"text-white hover:text-white hover:bg-gray-800"}`,children:[u.jsx(yr,{className:"w-4 h-4 mr-2"}),"Scope Template"]})]}),u.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[u.jsx("div",{className:"p-6 border-b-2 border-accent",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h4",{className:"text-lg font-semibold text-white",children:s==="email"?"Email Template":"Scope of Work Template"}),u.jsx("button",{onClick:()=>d(s==="email"?h:g,s),className:"flex items-center px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 hover:text-white transition-colors",children:o===s?u.jsxs(u.Fragment,{children:[u.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(lg,{className:"w-4 h-4 mr-2"}),"Copy Template"]})})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u.jsx("div",{className:"bg-black rounded-lg p-4 border border-accent",children:u.jsx("pre",{className:"whitespace-pre-wrap text-sm text-white font-mono leading-relaxed",children:s==="email"?h:g})})})]}),u.jsx("div",{className:"p-6 border-t-2 border-accent bg-gray-900",children:u.jsx("p",{className:"text-sm text-white",children:"Templates are automatically populated with extracted data. Fields in brackets [ ] need manual completion."})})]})})};class wt{static generateQuoteNumber(e,r){const n=new Date,s=n.getFullYear().toString().slice(-2),i=(n.getMonth()+1).toString().padStart(2,"0"),o=n.getDate().toString().padStart(2,"0"),l=n.getHours().toString().padStart(2,"0")+n.getMinutes().toString().padStart(2,"0");let a="QT";return e?a=e.replace(/[^a-zA-Z0-9]/g,"").slice(0,4).toUpperCase():r&&(a=r.replace(/[^a-zA-Z0-9]/g,"").slice(0,4).toUpperCase()),`${a}-${s}${i}${o}-${l}`}static async saveQuote(e,r,n,s,i,o){try{const l={quote_number:e,project_name:r.projectName||null,company_name:r.companyName||null,contact_name:r.contactName||null,site_phone:r.phone||null,shop_location:"Shop",site_address:r.projectAddress||null,scope_of_work:r.projectDescription||null,logistics_data:n||{},email_template:s||null,scope_template:i||null};let a;if(o){const{data:c,error:d}=await kt.from("quotes").update(l).eq("id",o).select().single();a={data:c,error:d}}else{const{data:c,error:d}=await kt.from("quotes").insert(l).select().single();a={data:c,error:d}}if(a.error)throw new Error(a.error.message);return{success:!0,id:a.data.id}}catch(l){return console.error("Error saving quote:",l),{success:!1,error:l instanceof Error?l.message:"Failed to save quote"}}}static async listQuotes(){try{const{data:e,error:r}=await kt.from("quotes").select("id, quote_number, project_name, company_name, contact_name, created_at, updated_at").order("updated_at",{ascending:!1}).limit(50);if(r)throw new Error(r.message);return e||[]}catch(e){return console.error("Error listing quotes:",e),[]}}static async getQuote(e){try{const{data:r,error:n}=await kt.from("quotes").select("*").eq("id",e).single();if(n)throw new Error(n.message);return r}catch(r){return console.error("Error getting quote:",r),null}}static async deleteQuote(e){try{const{error:r}=await kt.from("quotes").delete().eq("id",e);if(r)throw new Error(r.message);return!0}catch(r){return console.error("Error deleting quote:",r),!1}}static async searchQuotes(e){try{const{data:r,error:n}=await kt.from("quotes").select("id, quote_number, project_name, company_name, contact_name, created_at, updated_at").or(`quote_number.ilike.%${e}%,project_name.ilike.%${e}%,company_name.ilike.%${e}%,contact_name.ilike.%${e}%`).order("updated_at",{ascending:!1}).limit(20);if(n)throw new Error(n.message);return r||[]}catch(r){return console.error("Error searching quotes:",r),[]}}}const Ov=({isOpen:t,onClose:e,onLoadQuote:r,currentEquipmentData:n,currentLogisticsData:s})=>{const[i,o]=O.useState([]),[l,a]=O.useState(""),[c,d]=O.useState(!1),[h,g]=O.useState(null),[v,w]=O.useState(null),[x,b]=O.useState("");O.useEffect(()=>{t&&(f(),y())},[t]),O.useEffect(()=>{l.trim()?m():f()},[l]);const y=()=>{const C=wt.generateQuoteNumber(n.projectName,n.companyName);b(C)},f=async()=>{d(!0);try{const C=await wt.listQuotes();o(C)}catch(C){console.error("Error loading quotes:",C),w({type:"error",text:"Failed to load quote history"})}finally{d(!1)}},m=async()=>{if(l.trim()){d(!0);try{const C=await wt.searchQuotes(l);o(C)}catch(C){console.error("Error searching quotes:",C),w({type:"error",text:"Failed to search quotes"})}finally{d(!1)}}},k=async()=>{if(!x.trim()){w({type:"error",text:"Quote number is required"});return}d(!0),w(null);try{const C=await wt.saveQuote(x,n,s);C.success?(w({type:"success",text:"Quote saved successfully!"}),f(),y()):w({type:"error",text:C.error||"Failed to save quote"})}catch{w({type:"error",text:"Failed to save quote"})}finally{d(!1)}},S=async()=>{if(h){d(!0),w(null);try{const C=await wt.saveQuote(x,n,s,void 0,void 0,h);C.success?(w({type:"success",text:"Quote updated successfully!"}),f(),g(null)):w({type:"error",text:C.error||"Failed to update quote"})}catch{w({type:"error",text:"Failed to update quote"})}finally{d(!1)}}},N=async C=>{d(!0);try{const V=await wt.getQuote(C);if(V){const it={projectName:V.project_name||"",companyName:V.company_name||"",contactName:V.contact_name||"",phone:V.site_phone||"",projectAddress:V.site_address||"",projectDescription:V.scope_of_work||""};r(it,V.logistics_data||{}),w({type:"success",text:"Quote loaded successfully!"}),setTimeout(()=>e(),1500)}}catch{w({type:"error",text:"Failed to load quote"})}finally{d(!1)}},T=async C=>{if(confirm("Are you sure you want to delete this quote?")){d(!0);try{await wt.deleteQuote(C)?(w({type:"success",text:"Quote deleted successfully!"}),f(),g(null)):w({type:"error",text:"Failed to delete quote"})}catch{w({type:"error",text:"Failed to delete quote"})}finally{d(!1)}}},A=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Q=()=>{w(null)};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gray-900 border-2 border-accent rounded-2xl shadow-2xl w-full max-w-6xl h-[85vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b-2 border-accent",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Uh,{className:"w-6 h-6 text-white mr-2"}),u.jsx("h3",{className:"text-xl font-bold text-white",children:"Quote History"})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:u.jsx(ji,{className:"w-5 h-5 text-white"})})]}),v&&u.jsxs("div",{className:`mx-6 mt-4 p-3 rounded-lg flex items-center justify-between ${v.type==="success"?"bg-gray-900 text-white border border-accent":"bg-gray-900 text-white border border-red-500"}`,children:[u.jsxs("div",{className:"flex items-center",children:[v.type==="success"?u.jsx(Yt,{className:"w-4 h-4 mr-2"}):u.jsx(Si,{className:"w-4 h-4 mr-2"}),v.text]}),u.jsx("button",{onClick:Q,className:"ml-4 text-white hover:text-gray-300",children:u.jsx(ji,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[u.jsxs("div",{className:"w-1/3 p-6 border-r-2 border-accent",children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Save Current Quote"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quote Number"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:x,onChange:C=>b(C.target.value),className:"flex-1 px-3 py-2 bg-black border border-accent rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent text-white",placeholder:"Enter quote number"}),u.jsx("button",{onClick:y,className:"px-3 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Generate new number",children:u.jsx(It,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"bg-black rounded-lg p-4 border border-accent",children:[u.jsx("h5",{className:"text-sm font-medium text-white mb-2",children:"Current Quote Info"}),u.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(yr,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:n.projectName||"No project name"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ic,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:n.companyName||"No company"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(oc,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:n.contactName||"No contact"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:k,disabled:c||!x.trim(),className:"w-full flex items-center justify-center px-4 py-2 bg-accent text-black rounded-lg hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c?u.jsx(ct,{className:"w-4 h-4 animate-spin mr-2"}):u.jsx($l,{className:"w-4 h-4 mr-2"}),"Save New Quote"]}),h&&u.jsxs("button",{onClick:S,disabled:c,className:"w-full flex items-center justify-center px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c?u.jsx(ct,{className:"w-4 h-4 animate-spin mr-2"}):u.jsx($l,{className:"w-4 h-4 mr-2"}),"Overwrite Selected"]})]})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b-2 border-accent",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h4",{className:"text-lg font-semibold text-white",children:"Saved Quotes"})}),u.jsxs("div",{className:"relative",children:[u.jsx(zh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",value:l,onChange:C=>a(C.target.value),placeholder:"Search quotes...",className:"w-full pl-10 pr-4 py-2 bg-black border border-accent rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent text-white placeholder-gray-400"})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:c?u.jsxs("div",{className:"text-center text-white py-8",children:[u.jsx(ct,{className:"w-8 h-8 animate-spin mx-auto mb-2"}),"Loading quotes..."]}):i.length===0?u.jsx("div",{className:"text-center text-gray-400 py-8",children:l?"No quotes found":"No saved quotes"}):u.jsx("div",{className:"space-y-3",children:i.map(C=>u.jsx("div",{className:`p-4 rounded-lg border transition-colors cursor-pointer ${h===C.id?"border-accent bg-gray-800":"border-gray-600 bg-black hover:border-accent hover:bg-gray-800"}`,onClick:()=>g(h===C.id?null:C.id),children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center mb-1",children:[u.jsx(yr,{className:"w-4 h-4 text-accent mr-2 flex-shrink-0"}),u.jsx("span",{className:"font-medium text-white truncate",children:C.quote_number})]}),C.project_name&&u.jsxs("div",{className:"flex items-center mb-1",children:[u.jsx(ic,{className:"w-3 h-3 text-gray-400 mr-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-gray-300 truncate",children:C.project_name})]}),C.company_name&&u.jsxs("div",{className:"flex items-center mb-1",children:[u.jsx(oc,{className:"w-3 h-3 text-gray-400 mr-2 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-gray-300 truncate",children:C.company_name})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(og,{className:"w-3 h-3 text-gray-400 mr-2 flex-shrink-0"}),u.jsx("span",{className:"text-xs text-gray-400",children:A(C.updated_at)})]})]}),h===C.id&&u.jsxs("div",{className:"flex gap-1 ml-2",children:[u.jsx("button",{onClick:V=>{V.stopPropagation(),N(C.id)},className:"p-1 bg-accent text-black rounded hover:bg-green-400 transition-colors",title:"Load quote",children:u.jsx(ag,{className:"w-3 h-3"})}),u.jsx("button",{onClick:V=>{V.stopPropagation(),T(C.id)},className:"p-1 bg-red-600 text-white rounded hover:bg-red-500 transition-colors",title:"Delete quote",children:u.jsx(mt,{className:"w-3 h-3"})})]})]})},C.id))})})]})]}),u.jsx("div",{className:"p-6 border-t-2 border-accent bg-gray-900",children:u.jsx("p",{className:"text-sm text-gray-400",children:"Click on a quote to select it, then use Load to fill forms or Overwrite to update with current data. Quote numbers are auto-generated but can be customized before saving."})})]})}):null},Iv=({onApiKeyChange:t})=>{const[e,r]=O.useState(""),[n,s]=O.useState(!1),[i,o]=O.useState(!1),[l,a]=O.useState(!1),[c,d]=O.useState(!0),[h,g]=O.useState(null);O.useEffect(()=>{v()},[]);const v=async()=>{d(!0);try{const x=await cs.hasApiKey();a(x),t(x)}catch(x){console.error("Error checking for API key:",x)}finally{d(!1)}},w=async()=>{if(!e.trim()){g({type:"error",text:"Please enter an API key"});return}if(!e.startsWith("sk-")){g({type:"error",text:"Invalid OpenAI API key format"});return}o(!0),g(null);try{await cs.saveApiKey(e)?(g({type:"success",text:"API key saved successfully!"}),r(""),a(!0),t(!0)):g({type:"error",text:"Failed to save API key"})}catch{g({type:"error",text:"Error saving API key"})}finally{o(!1)}};return c?u.jsxs("div",{className:"flex items-center justify-center p-4 text-white",children:[u.jsx(ct,{className:"w-5 h-5 animate-spin mr-2"}),u.jsx("span",{children:"Checking API key status..."})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx(cg,{className:"w-5 h-5 text-white mr-2"}),u.jsx("h3",{className:"text-lg font-semibold text-white",children:"OpenAI API Key Setup"})]}),h&&u.jsxs("div",{className:`p-3 rounded-lg flex items-center ${h.type==="success"?"bg-gray-900 text-white border border-accent":"bg-black text-white border border-accent"}`,children:[h.type==="success"?u.jsx(Yt,{className:"w-4 h-4 mr-2"}):u.jsx(Si,{className:"w-4 h-4 mr-2"}),h.text]}),l?u.jsxs("div",{className:"p-3 bg-gray-900 text-white rounded-lg border border-accent",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Yt,{className:"w-5 h-5 text-white mr-2"}),u.jsx("span",{className:"text-white font-medium",children:"API key is configured and ready"})]}),u.jsx("p",{className:"text-sm text-white mt-1",children:"You can now use the AI extraction feature."})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("p",{className:"text-sm text-white",children:["Enter your OpenAI API key to enable AI extraction. Get your API key from"," ",u.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:underline",children:"OpenAI's website"}),"."]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:n?"text":"password",value:e,onChange:x=>r(x.target.value),placeholder:"sk-...",className:"w-full px-4 py-3 pr-12 bg-black border border-accent rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent text-white placeholder-white",disabled:i}),u.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white hover:text-white",disabled:i,children:n?u.jsx(ug,{className:"w-4 h-4"}):u.jsx(Mh,{className:"w-4 h-4"})})]}),u.jsx("button",{onClick:w,disabled:i||!e.trim(),className:"flex items-center px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?u.jsxs(u.Fragment,{children:[u.jsx(ct,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):u.jsxs(u.Fragment,{children:[u.jsx($l,{className:"w-4 h-4 mr-2"}),"Save API Key"]})})]})]})},Ti=class Ti{static async searchContactsByName(e,r=!1){if(!this.SUPABASE_URL||!this.SUPABASE_ANON_KEY)throw new Error("Supabase configuration missing");const n=await fetch(`${this.SUPABASE_URL}/functions/v1/hubspot-search`,{method:"POST",headers:{Authorization:`Bearer ${this.SUPABASE_ANON_KEY}`,"Content-Type":"application/json"},body:JSON.stringify({name:e,partial:r})});if(!n.ok){const i=await n.json().catch(()=>({error:"Network error"}));throw new Error(i.error||"Failed to search HubSpot")}return(await n.json()).results||[]}};Ti.SUPABASE_URL="https://oorgoezqxexsewcwasvh.supabase.co",Ti.SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9vcmdvZXpxeGV4c2V3Y3dhc3ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3MTU0NzUsImV4cCI6MjA2ODI5MTQ3NX0.PLGUswNkjeNbbOOEsD7MpLuCY0HSwUMAGO3Q-IPAfjw";let Ei=Ti;const J={projectName:"",companyName:"",contactName:"",phone:"",email:"",projectDescription:"",siteAddress:"",shopLocation:"Shop",crewSize:"3-man crew",forklifts:[],tractors:[],trailers:[],pieces:[{description:"",length:"",width:"",height:"",weight:""}],pickupAddress:"",pickupCity:"",pickupState:"",pickupZip:"",deliveryAddress:"",deliveryCity:"",deliveryState:"",deliveryZip:"",truckType:"Flatbed",shipmentType:"LTL (Less Than Truckload)",storageEnabled:!1,storageType:"inside",storageSqFt:""},Lv=t=>{switch(t){case"project":return{projectName:J.projectName,companyName:J.companyName,contactName:J.contactName,email:J.email,phone:J.phone,projectDescription:J.projectDescription,siteAddress:J.siteAddress,shopLocation:J.shopLocation};case"equipment":return{crewSize:J.crewSize,forklifts:[...J.forklifts],tractors:[...J.tractors],trailers:[...J.trailers]};case"storage":return{pieces:J.pieces.map(e=>({...e})),pickupAddress:J.pickupAddress,pickupCity:J.pickupCity,pickupState:J.pickupState,pickupZip:J.pickupZip,deliveryAddress:J.deliveryAddress,deliveryCity:J.deliveryCity,deliveryState:J.deliveryState,deliveryZip:J.deliveryZip,truckType:J.truckType,shipmentType:J.shipmentType,storageEnabled:J.storageEnabled,storageType:J.storageType,storageSqFt:J.storageSqFt};default:return{}}},Rv=()=>{const[t,e]=O.useState(!1),[r,n]=O.useState(!1),[s,i]=O.useState(!1),[o,l]=O.useState(!1),a=mg(),[c,d]=O.useState(J),h=O.useRef(!1),[g,v]=O.useState([]),[w,x]=O.useState(!1),[b,y]=O.useState(!1),[f,m]=O.useState(!1),[k,S]=O.useState([]),N=O.useRef(null),T=O.useRef(null),A=O.useRef(!1),[Q,C]=O.useState(!1),[V,it]=O.useState(!1),[Pt,Xi]=O.useState([]);O.useEffect(()=>{const p=localStorage.getItem("quote-form");if(p)try{d(JSON.parse(p))}catch(_){console.error("Failed to parse saved form data",_)}},[]),O.useEffect(()=>{if(h.current){h.current=!1;return}localStorage.setItem("quote-form",JSON.stringify(c))},[c]),O.useEffect(()=>{if(!c.storageEnabled)return;const p=c.pieces.reduce((_,E)=>{const L=parseFloat(E.length)||0,H=parseFloat(E.width)||0;return _+L*H/144},0);d(_=>{const E=p?p.toFixed(2):"";return _.storageSqFt===E?_:{..._,storageSqFt:E}})},[c.pieces,c.storageEnabled]);const wn=p=>{const _=String(p).replace(/\D/g,"");let E=_;_.length===11&&_.startsWith("1")&&(E=_.slice(1)),E=E.slice(0,10);const L=E.slice(0,3),H=E.slice(3,6),M=E.slice(6,10);return E.length>6?`(${L})${H}-${M}`:E.length>3?`(${L})${H}`:L},Z=(p,_)=>{if(p==="phone"){d(E=>({...E,phone:wn(_)}));return}d(E=>({...E,[p]:_}))},xn=(p,_)=>{const E={...p,..._};E.phone&&(E.phone=wn(E.phone)),d(L=>({...L,...E}))},P=p=>{const _=[p.firstName,p.lastName].filter(Boolean).join(" ").trim(),E=p.phone||"",L=wn(E),H=p.companyAddress&&p.companyAddress.trim().length>0?p.companyAddress:"",M=p.contactAddress&&p.contactAddress.trim().length>0?p.contactAddress:"",R=H||M;d(I=>({...I,contactName:_||I.contactName,email:p.email||I.email,phone:L||I.phone,companyName:p.companyName||I.companyName,siteAddress:R||I.siteAddress,pickupAddress:R||I.pickupAddress,pickupCity:p.companyCity||p.contactCity||I.pickupCity,pickupState:p.companyState||p.contactState||I.pickupState,pickupZip:p.companyZip||p.contactZip||I.pickupZip}))},D=async()=>{const p=(c.contactName||"").trim();if(p)try{x(!0);const _=await Ei.searchContactsByName(p);_.length===1?(P(_[0]),v([])):v(_.slice(0,20))}catch(_){console.error("HubSpot search failed",_),v([])}finally{x(!1)}};O.useEffect(()=>{const p=(c.contactName||"").trim();if(N.current&&window.clearTimeout(N.current),A.current){A.current=!1;return}if(p.length<4){y(!1),S([]),m(!1);return}return y(!0),N.current=window.setTimeout(async()=>{try{m(!0);const _=await Ei.searchContactsByName(p,!0);S(_)}catch(_){console.error("Typeahead search failed",_),S([])}finally{m(!1)}},400),()=>{N.current&&window.clearTimeout(N.current)}},[c.contactName]);const z=p=>{A.current=!0,P(p),y(!1),S([])};O.useEffect(()=>{const p=E=>{T.current&&(T.current.contains(E.target)||(y(!1),S([]),v([])))},_=E=>{E.key==="Escape"&&(y(!1),S([]),v([]))};return document.addEventListener("mousedown",p),document.addEventListener("keydown",_),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("keydown",_)}},[]);const se=()=>{const p=(c.email||"").trim();if(!p)return;const _=ro(),E=_.split(`
`),L=(E[0]||"Quote").trim(),H=E.slice(1).join(`
`),M=`mailto:${encodeURIComponent(p)}?subject=${encodeURIComponent(L)}&body=${encodeURIComponent(H)}`;try{const R=document.createElement("a");R.href=M,R.style.display="none",document.body.appendChild(R),R.click(),document.body.removeChild(R)}catch{try{window.location.href=M}catch{ws(_,"email")}}},ue=async p=>{const _=p==="pickup"?"pickupZip":"deliveryZip",E=p==="pickup"?"pickupCity":"deliveryCity",L=p==="pickup"?"pickupState":"deliveryState",H=c[_];if(H)try{const M=await fetch(`https://api.zippopotam.us/us/${H}`);if(!M.ok)return;const R=await M.json(),I=R.places&&R.places[0];I&&d(he=>({...he,[E]:I["place name"],[L]:I["state abbreviation"]}))}catch(M){console.error("ZIP lookup failed",M)}},Cr=()=>{d(J)},ft=()=>{localStorage.removeItem("quote-form"),h.current=!0,Cr()},ir=p=>{d(_=>({..._,...Lv(p)}))},pt=()=>{d(p=>({...p,pieces:[...p.pieces,{description:"",length:"",width:"",height:"",weight:""}]}))},ot=(p,_,E)=>{d(L=>({...L,pieces:L.pieces.map((H,M)=>M===p?{...H,[_]:E}:H)}))},ff=p=>{c.pieces.length>1&&d(_=>({..._,pieces:_.pieces.filter((E,L)=>L!==p)}))},Ba={"Forklift (5k)":{tractors:["Rollback"]},"Forklift (8k)":{tractors:["Rollback"]},"Forklift (15k)":{tractors:["Rollback"]},"Forklift (30k)":{tractors:["3-axle tractor"],trailers:["Dovetail"]},"Forklift - Hoist 18/26":{tractors:["3-axle tractor"],trailers:["Dovetail"]},"Versalift 25/35":{tractors:["3-axle tractor"],trailers:["Dovetail"]},"Versalift 40/60":{tractors:["4-axle tractor"],trailers:["Lowboy"]},"Versalift 60/80":{tractors:["4-axle tractor","3-axle tractor"],trailers:["Dovetail","Lowboy"],forklifts:["Forklift (15k)"]},Trilifter:{tractors:["4-axle tractor"],trailers:["Lowboy"]}},pf=["Forklift (5k)","Forklift (8k)","Forklift (15k)"];O.useEffect(()=>{const p=c.forklifts.filter(R=>pf.includes(R.type)).reduce((R,I)=>R+I.quantity,0),_=p>1?Math.ceil(p/3):0;let E=!1,L=!1;c.forklifts.forEach(R=>{var he,F;const I=Ba[R.type];(he=I==null?void 0:I.tractors)!=null&&he.includes("3-axle tractor")&&(E=!0),(F=I==null?void 0:I.trailers)!=null&&F.includes("Dovetail")&&(L=!0)});const H=Math.max(E?1:0,_),M=Math.max(L?1:0,_);d(R=>{let I=R.tractors,he=R.trailers,F=!1;const or=I.find(G=>G.type==="Rollback");p===1?or?or.quantity!==1&&(I=I.map(G=>G.type==="Rollback"?{...G,quantity:1}:G),F=!0):(I=[...I,{type:"Rollback",quantity:1}],F=!0):or&&(I=I.filter(G=>G.type!=="Rollback"),F=!0);const lr=I.find(G=>G.type==="3-axle tractor");H>0?lr?lr.quantity!==H&&(I=I.map(G=>G.type==="3-axle tractor"?{...G,quantity:H}:G),F=!0):(I=[...I,{type:"3-axle tractor",quantity:H}],F=!0):lr&&(I=I.filter(G=>G.type!=="3-axle tractor"),F=!0);const $t=he.find(G=>G.type==="Dovetail");return M>0?$t?$t.quantity!==M&&(he=he.map(G=>G.type==="Dovetail"?{...G,quantity:M}:G),F=!0):(he=[...he,{type:"Dovetail",quantity:M}],F=!0):$t&&(he=he.filter(G=>G.type!=="Dovetail"),F=!0),F?{...R,tractors:I,trailers:he}:R})},[c.forklifts]);const Tr=(p,_)=>{var E,L,H;if(d(M=>M[p].find(I=>I.type===_)?{...M,[p]:M[p].map(I=>I.type===_?{...I,quantity:I.quantity+1}:I)}:{...M,[p]:[...M[p],{type:_,quantity:1}]}),p==="forklifts"){const M=Ba[_];M&&((E=M.tractors)==null||E.forEach(R=>Tr("tractors",R)),(L=M.trailers)==null||L.forEach(R=>Tr("trailers",R)),(H=M.forklifts)==null||H.forEach(R=>Tr("forklifts",R)))}},Pr=(p,_,E)=>{d(L=>{const H=L[p].find(R=>R.type===_);if(!H)return L;const M=H.quantity+E;return M<=0?{...L,[p]:L[p].filter(R=>R.type!==_)}:{...L,[p]:L[p].map(R=>R.type===_?{...R,quantity:M}:R)}})},eo=(p,_)=>{d(E=>({...E,[p]:E[p].filter(L=>L.type!==_)}))},$r=p=>p.replace(/\b\w/g,_=>_.toUpperCase()),mf=p=>{if(p.length===2)return p.join(", ");const _=p.slice(0,2).join(", "),E=p.slice(2);return E.length===0?_:E.length===1?`${_}, and ${E[0]}`:`${_}, ${E.slice(0,-1).join(", ")}, and ${E[E.length-1]}`},[to,qa]=O.useState(null),ws=async(p,_,E=!1)=>{try{if(E&&"ClipboardItem"in window&&navigator.clipboard&&"write"in navigator.clipboard){const L=p.replace(/<[^>]*>/g,""),H=new window.ClipboardItem({"text/html":new Blob([p],{type:"text/html"}),"text/plain":new Blob([L],{type:"text/plain"})});await navigator.clipboard.write([H])}else await navigator.clipboard.writeText(p);qa(_),setTimeout(()=>qa(null),2e3)}catch(L){console.error("Failed to copy text: ",L)}},gf=async()=>{try{const p=wt.generateQuoteNumber(c.projectName,c.companyName),_=await wt.saveQuote(p,c,c);_.success?alert("Quote saved successfully!"):alert(`Failed to save quote: ${_.error}`)}catch(p){alert("Error saving quote"),console.error("Save quote error:",p)}},yf=(p,_)=>{d({...p,..._}),l(!1)},vf=[{id:"project",name:"Project Details",icon:ig},{id:"equipment",name:"Equipment Required",icon:pg},{id:"storage",name:"Storage & Logistics",icon:dg},{id:"templates",name:"Templates",icon:yr}],wf=()=>u.jsxs("div",{className:"bg-gray-900 rounded-xl border-2 border-accent",children:[u.jsxs("div",{className:"p-6 border-b-2 border-accent flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"Project Details"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:gf,className:"flex items-center px-3 py-1.5 text-sm bg-white text-black rounded-lg border border-white hover:bg-white disabled:opacity-50",disabled:Q,children:Q?"Saving":"Save Quote"}),u.jsxs("button",{onClick:()=>ir("project"),className:"flex items-center px-3 py-1.5 text-sm text-white hover:bg-black rounded-lg transition-colors",children:[u.jsx(mt,{className:"w-4 h-4 mr-1"}),"Clear Section"]})]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Project Name"}),u.jsx("input",{type:"text",value:c.projectName,onChange:p=>Z("projectName",p.target.value),className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white",placeholder:"Enter project name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Company Name"}),u.jsx("input",{type:"text",value:c.companyName,onChange:p=>Z("companyName",p.target.value),className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white",placeholder:"Enter company name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Contact Name"}),u.jsxs("div",{className:"flex gap-2",ref:T,children:[u.jsx("input",{type:"text",value:c.contactName,onChange:p=>Z("contactName",p.target.value),className:"flex-1 px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white",placeholder:"Enter contact name"}),u.jsx("button",{type:"button",onClick:D,disabled:w||!c.contactName.trim(),className:"px-3 py-3 bg-white text-black rounded-lg border border-white hover:bg-white disabled:opacity-50",title:"Search HubSpot",children:u.jsx(zh,{className:"w-4 h-4"})})]}),b&&u.jsx("div",{className:"relative",onMouseDown:p=>p.stopPropagation(),children:u.jsx("div",{className:"absolute z-50 mt-2 w-full bg-black border border-white rounded-lg max-h-64 overflow-y-auto shadow-lg",onMouseDown:p=>p.stopPropagation(),children:f?u.jsx("div",{className:"p-3 text-white text-sm",children:"Searching"}):k.length===0?u.jsx("div",{className:"p-3 text-white text-sm",children:"No matches"}):k.map(p=>{const _=`${[p.firstName,p.lastName].filter(Boolean).join(" ")}${p.email?"  "+p.email:""}`,E=p.companyAddress||p.contactAddress||"";return u.jsxs("button",{type:"button",onClick:()=>z(p),className:"w-full text-left px-3 py-2 hover:bg-gray-800 text-white text-sm border-b border-gray-800 last:border-b-0",onMouseDown:L=>L.stopPropagation(),children:[u.jsx("div",{className:"font-medium",children:_}),E?u.jsx("div",{className:"text-xs opacity-80",children:E}):null]},p.id)})})}),g.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsx("label",{className:"block text-xs text-white mb-1",children:"Select a contact (max 20)"}),u.jsxs("select",{className:"w-full px-3 py-2 bg-black border border-white rounded-lg text-white",onChange:p=>{const _=p.target.value,E=g.find(L=>L.id===_);E&&(P(E),v([]))},defaultValue:"",children:[u.jsx("option",{value:"",disabled:!0,children:"Choose a contact"}),g.map(p=>u.jsxs("option",{value:p.id,children:[`${p.firstName} ${p.lastName}`.trim(),"$",p.email?`  ${p.email}`:""]},p.id))]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Site Address"}),u.jsx("input",{type:"text",value:c.siteAddress,onChange:p=>Z("siteAddress",p.target.value),className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white",placeholder:"Enter full site address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Site Phone Number"}),u.jsx("input",{type:"tel",value:c.phone,onChange:p=>Z("phone",p.target.value),className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white",placeholder:"Enter site phone number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Email"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"email",value:c.email,onChange:p=>Z("email",p.target.value),className:"flex-1 px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white",placeholder:"Enter email address"}),u.jsx("button",{type:"button",onClick:se,disabled:!c.email.trim(),className:"px-3 py-3 bg-white text-black rounded-lg border border-white hover:bg-white disabled:opacity-50",title:"Start email with template",children:u.jsx(Pl,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Shop Location"}),u.jsxs("select",{value:c.shopLocation,onChange:p=>Z("shopLocation",p.target.value),className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white",children:[u.jsx("option",{value:"Shop",children:"Shop"}),u.jsx("option",{value:"Mukilteo",children:"Mukilteo"}),u.jsx("option",{value:"Fife",children:"Fife"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Scope of Work"}),u.jsx("textarea",{value:c.projectDescription,onChange:p=>Z("projectDescription",p.target.value),rows:4,className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white",placeholder:"Describe the scope of work..."})]})]})]}),xf=()=>u.jsxs("div",{className:"bg-gray-900 rounded-xl border-2 border-accent",children:[u.jsxs("div",{className:"p-6 border-b-2 border-accent flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"Equipment Required"}),u.jsxs("button",{onClick:()=>ir("equipment"),className:"flex items-center px-3 py-1.5 text-sm text-white hover:bg-black rounded-lg transition-colors",children:[u.jsx(mt,{className:"w-4 h-4 mr-1"}),"Clear Section"]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Crew Size"}),u.jsxs("select",{value:c.crewSize,onChange:p=>Z("crewSize",p.target.value),className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white",children:[u.jsx("option",{value:"2-man crew",children:"2-man crew"}),u.jsx("option",{value:"3-man crew",children:"3-man crew"}),u.jsx("option",{value:"4-man crew",children:"4-man crew"}),u.jsx("option",{value:"5-man crew",children:"5-man crew"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Forklifts"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"flex flex-wrap gap-2",children:["Forklift (5k)","Forklift (8k)","Forklift (15k)","Forklift (30k)","Forklift - Hoist 18/26","Versalift 25/35","Versalift 40/60","Versalift 60/80","Trilifter"].map(p=>u.jsxs("button",{onClick:()=>Tr("forklifts",p),className:"flex items-center px-3 py-2 bg-white text-black rounded-lg hover:bg-white transition-colors",children:[u.jsx(It,{className:"w-4 h-4 mr-1"}),p]},p))}),c.forklifts.length>0&&u.jsx("div",{className:"space-y-2",children:c.forklifts.map((p,_)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-black rounded-lg",children:[u.jsx("span",{className:"text-sm font-medium text-white",children:$r(p.type)}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>Pr("forklifts",p.type,-1),className:"text-white hover:text-white",children:u.jsx(Po,{className:"w-4 h-4"})}),u.jsx("span",{className:"text-sm font-medium text-white",children:p.quantity}),u.jsx("button",{onClick:()=>Pr("forklifts",p.type,1),className:"text-white hover:text-white",children:u.jsx(It,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>eo("forklifts",p.type),className:"text-white hover:text-white",children:u.jsx(mt,{className:"w-4 h-4"})})]})]},_))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Tractors"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"flex flex-wrap gap-2",children:["3-axle tractor","4-axle tractor","Rollback"].map(p=>u.jsxs("button",{onClick:()=>Tr("tractors",p),className:"flex items-center px-3 py-2 bg-white text-black rounded-lg hover:bg-white transition-colors",children:[u.jsx(It,{className:"w-4 h-4 mr-1"}),p]},p))}),c.tractors.length>0&&u.jsx("div",{className:"space-y-2",children:c.tractors.map((p,_)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-black rounded-lg",children:[u.jsx("span",{className:"text-sm font-medium text-white",children:$r(p.type)}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>Pr("tractors",p.type,-1),className:"text-white hover:text-white",children:u.jsx(Po,{className:"w-4 h-4"})}),u.jsx("span",{className:"text-sm font-medium text-white",children:p.quantity}),u.jsx("button",{onClick:()=>Pr("tractors",p.type,1),className:"text-white hover:text-white",children:u.jsx(It,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>eo("tractors",p.type),className:"text-white hover:text-white",children:u.jsx(mt,{className:"w-4 h-4"})})]})]},_))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Trailers"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"flex flex-wrap gap-2",children:["Dovetail","Flatbed","Lowboy","Step Deck"].map(p=>u.jsxs("button",{onClick:()=>Tr("trailers",p),className:"flex items-center px-3 py-2 bg-white text-black rounded-lg hover:bg-white transition-colors",children:[u.jsx(It,{className:"w-4 h-4 mr-1"}),p]},p))}),c.trailers.length>0&&u.jsx("div",{className:"space-y-2",children:c.trailers.map((p,_)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-black rounded-lg",children:[u.jsx("span",{className:"text-sm font-medium text-white",children:$r(p.type==="Dovetail"?"Dovetail Trailer":p.type)}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>Pr("trailers",p.type,-1),className:"text-white hover:text-white",children:u.jsx(Po,{className:"w-4 h-4"})}),u.jsx("span",{className:"text-sm font-medium text-white",children:p.quantity}),u.jsx("button",{onClick:()=>Pr("trailers",p.type,1),className:"text-white hover:text-white",children:u.jsx(It,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>eo("trailers",p.type),className:"text-white hover:text-white",children:u.jsx(mt,{className:"w-4 h-4"})})]})]},_))})]})]})]})]}),kf=()=>u.jsxs("div",{className:"bg-gray-900 rounded-xl border-2 border-accent",children:[u.jsxs("div",{className:"p-6 border-b-2 border-accent flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"Storage & Logistics"}),u.jsxs("button",{onClick:()=>ir("storage"),className:"flex items-center px-3 py-1.5 text-sm text-white hover:bg-black rounded-lg transition-colors",children:[u.jsx(mt,{className:"w-4 h-4 mr-1"}),"Clear Section"]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-white",children:"Items to Transport"}),u.jsxs("button",{onClick:pt,className:"flex items-center px-3 py-1.5 text-sm text-black hover:bg-black rounded-lg transition-colors",children:[u.jsx(It,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}),u.jsx("div",{className:"space-y-4",children:c.pieces.map((p,_)=>u.jsxs("div",{className:"p-4 border border-white rounded-lg bg-black",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h4",{className:"text-sm font-medium text-white",children:["Item ",_+1]}),c.pieces.length>1&&u.jsx("button",{onClick:()=>ff(_),className:"text-white hover:text-white",children:u.jsx(mt,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsx("div",{className:"md:col-span-1",children:u.jsx("input",{type:"text",value:p.description,onChange:E=>ot(_,"description",E.target.value),placeholder:"Description",className:"w-full px-3 py-2 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"})}),u.jsx("div",{children:u.jsx("input",{type:"text",value:p.length,onChange:E=>ot(_,"length",E.target.value),placeholder:"Length",className:"w-full px-3 py-2 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"})}),u.jsx("div",{children:u.jsx("input",{type:"text",value:p.width,onChange:E=>ot(_,"width",E.target.value),placeholder:"Width",className:"w-full px-3 py-2 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"})}),u.jsx("div",{children:u.jsx("input",{type:"text",value:p.height,onChange:E=>ot(_,"height",E.target.value),placeholder:"Height",className:"w-full px-3 py-2 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"})}),u.jsx("div",{children:u.jsx("input",{type:"text",value:p.weight,onChange:E=>ot(_,"weight",E.target.value),placeholder:"Weight",className:"w-full px-3 py-2 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"})})]})]},_))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium text-white mb-4",children:"Pickup Location"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("div",{children:u.jsx("input",{type:"text",value:c.pickupAddress,onChange:p=>Z("pickupAddress",p.target.value),placeholder:"Pickup Address",className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"})}),u.jsx("div",{children:u.jsx("input",{type:"text",value:c.pickupCity,onChange:p=>Z("pickupCity",p.target.value),placeholder:"City",className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"})}),u.jsx("div",{children:u.jsx("input",{type:"text",value:c.pickupState,onChange:p=>Z("pickupState",p.target.value),placeholder:"State",className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:c.pickupZip,onChange:p=>Z("pickupZip",p.target.value),placeholder:"ZIP Code",className:"flex-1 px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"}),u.jsx("button",{type:"button",onClick:()=>ue("pickup"),className:"px-4 py-3 bg-white text-black rounded-lg",children:"Lookup"})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium text-white mb-4",children:"Delivery Location"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("div",{children:u.jsx("input",{type:"text",value:c.deliveryAddress,onChange:p=>Z("deliveryAddress",p.target.value),placeholder:"Delivery Address",className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"})}),u.jsx("div",{children:u.jsx("input",{type:"text",value:c.deliveryCity,onChange:p=>Z("deliveryCity",p.target.value),placeholder:"City",className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"})}),u.jsx("div",{children:u.jsx("input",{type:"text",value:c.deliveryState,onChange:p=>Z("deliveryState",p.target.value),placeholder:"State",className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:c.deliveryZip,onChange:p=>Z("deliveryZip",p.target.value),placeholder:"ZIP Code",className:"flex-1 px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"}),u.jsx("button",{type:"button",onClick:()=>ue("delivery"),className:"px-4 py-3 bg-white text-black rounded-lg",children:"Lookup"})]})]})]}),u.jsxs("div",{className:"border-t border-white pt-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("label",{className:"text-sm font-medium text-white",children:"Include Storage"}),u.jsx("button",{type:"button",onClick:()=>Z("storageEnabled",!c.storageEnabled),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c.storageEnabled?"bg-white":"bg-black"}`,children:u.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.storageEnabled?"translate-x-6":"translate-x-1"}`})})]}),c.storageEnabled&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex space-x-4",children:[u.jsxs("label",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"radio",name:"storageType",value:"inside",checked:c.storageType==="inside",onChange:p=>Z("storageType",p.target.value),className:"text-black"}),u.jsx("span",{className:"text-sm text-white",children:"Inside"})]}),u.jsxs("label",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"radio",name:"storageType",value:"outside",checked:c.storageType==="outside",onChange:p=>Z("storageType",p.target.value),className:"text-black"}),u.jsx("span",{className:"text-sm text-white",children:"Outside"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Square Feet"}),u.jsx("input",{type:"number",value:c.storageSqFt,onChange:p=>Z("storageSqFt",p.target.value),placeholder:"Sq Ft",className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-white"})]}),u.jsx("div",{className:"md:col-span-2 flex items-end",children:u.jsxs("p",{className:"text-sm text-white",children:["Cost: $",((parseFloat(c.storageSqFt)||0)*(c.storageType==="inside"?3.5:2.5)).toFixed(2)]})})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Truck Type Requested"}),u.jsxs("select",{value:c.truckType,onChange:p=>Z("truckType",p.target.value),className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white",children:[u.jsx("option",{value:"Flatbed",children:"Flatbed"}),u.jsx("option",{value:"Flatbed with tarp",children:"Flatbed with tarp"}),u.jsx("option",{value:"Conestoga",children:"Conestoga"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Shipment Type"}),u.jsxs("select",{value:c.shipmentType,onChange:p=>Z("shipmentType",p.target.value),className:"w-full px-4 py-3 bg-black border border-white rounded-lg focus:ring-2 focus:ring-white focus:border-transparent text-white",children:[u.jsx("option",{value:"LTL (Less Than Truckload)",children:"LTL (Less Than Truckload)"}),u.jsx("option",{value:"FTL (Full Truck Load)",children:"FTL (Full Truck Load)"})]})]})]})]})]}),Ha=()=>{const p=c.contactName||"[Contact Name]",_=c.phone||"[phone]",E=c.projectDescription||"[scope of work]",L=c.siteAddress||"[Site Address]",H=c.shopLocation||"Shop";let M="";c.pieces&&c.pieces.length>0&&c.pieces[0].description&&(M=c.pieces.map(F=>`${F.description||"[description]"} - ${F.length||"[L]"}"L x ${F.width||"[W]"}"W x ${F.height||"[H]"}"H, ${F.weight||"[weight]"} lbs`).join(`

`));const R=[...c.forklifts.map(F=>`${F.quantity>1?`(${F.quantity}) `:""}${$r(F.type)}`),...c.tractors.map(F=>`${F.quantity>1?`(${F.quantity}) `:""}${$r(F.type)}`),...c.trailers.map(F=>`${F.quantity>1?`(${F.quantity}) `:""}${$r(F.type==="Dovetail"?"Dovetail Trailer":F.type)}`)],I=[c.crewSize||"3-man crew","Gear Truck and Trailer",...R],he=mf(I);return`Mobilize crew and Omega Morgan equipment to site:
${L}

${p}
${_}

Omega Morgan to supply ${he}.

${E}

${M}

When job is complete clean up debris and return to ${H}.`},_f=()=>{const p=c.pickupZip||"98275",_=c.deliveryZip||"98021",E=c.pickupCity||"Mukilteo",L=c.pickupState||"WA",H=c.deliveryCity||"Bothell",M=c.deliveryState||"WA",R=c.pickupAddress,I=c.deliveryAddress,he=R?`${R}, ${E}, ${L} ${p}`:`${E}, ${L} ${p}`,F=I?`${I}, ${H}, ${M} ${_}`:`${H}, ${M} ${_}`,or=c.truckType||"Flatbed",lr=c.shipmentType||"LTL (Less Than Truckload)";let $t=`53" x 53" x 106"  approx. 2000 lbs

58" x 36" x 75"  approx. 400 lbs`,G="2,400 lbs",Ka="2";if(c.pieces&&c.pieces.length>0&&c.pieces[0].description){$t=c.pieces.map(Ar=>`${Ar.length||"[L]"}" x ${Ar.width||"[W]"}" x ${Ar.height||"[H]"}"  approx. ${Ar.weight||"[Weight]"} lbs`).join(`

`),Ka=c.pieces.length.toString();const Ga=c.pieces.reduce((Ar,Cf)=>{const Tf=parseInt(Cf.weight)||0;return Ar+Tf},0);G=Ga>0?`${Ga.toLocaleString()} lbs`:"2,400 lbs"}const Qa=c.storageType==="inside"?3.5:2.5,Nf=(parseFloat(c.storageSqFt)||0)*Qa,Ef=c.storageEnabled&&c.storageSqFt?`Storage Required: ${c.storageType==="inside"?"Inside":"Outside"} - ${c.storageSqFt} sq ft @ $${Qa.toFixed(2)}/sq ft (Est. Cost: $${Nf.toFixed(2)})`:"";return{pickupZip:p,deliveryZip:_,pickupLocation:he,deliveryLocation:F,truckType:or,shipmentType:lr,piecesText:$t,totalWeight:G,pieceCount:Ka,storageLine:Ef}},Wa=()=>{const{pickupZip:p,deliveryZip:_,pickupLocation:E,deliveryLocation:L,truckType:H,shipmentType:M,piecesText:R,totalWeight:I,pieceCount:he,storageLine:F}=_f(),or=`Quote for Truck Request for ${M} - ${p} - ${_}`,lr=R.split(`
`).join("<br>"),$t=F?`<strong>Storage Required:</strong> ${F.replace(/^Storage Required:\s*/,"")}<br><br>`:"",G=`Hello Team,<br><br>I'm reaching out to request a logistics quote for an upcoming project. Please see the load and transport details below:<br><br><strong>Number of Pieces:</strong> ${he}<br><br>${lr}<br><br><strong>Total Load Weight:</strong> ${I}<br><br><strong>Pick-Up Location:</strong> ${E}<br><br><strong>Delivery/Set Location:</strong> ${L}<br><br><strong>Truck Type Requested:</strong> ${H}<br><br><strong>Shipment Type:</strong> ${M}<br><br>${$t}Please let me know if you need any additional information or documents to complete the quote.<br><br>Looking forward to your response.<br><br>Thanks,`;return{subject:or,body:G}},Va=()=>{const{subject:p,body:_}=Wa();return`<strong>Subject:</strong> ${p}<br><br>${_}`},Sf=()=>{const{subject:p,body:_}=Wa(),E=`mailto:Logistics@omegamorgan.com;MachineryLogistics@omegamorgan.com?subject=${encodeURIComponent(p)}&body=${encodeURIComponent(_)}`;window.location.href=E},ro=()=>{const p=c.contactName||"[site contact]",_=c.projectName||"[project name]";return`${p} - Omega Morgan - ${_} - Quote

Hello ${p},

Thank you for considering Omega Morgan for the opportunity to provide your company with ${_}.

Should you have any questions or require further clarification, please don't hesitate to reach out.

If you are ready to proceed, kindly sign and return the documents via email.

We appreciate your time and consideration.

Thank you,
`},jf=()=>u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-gray-900 rounded-xl border-2 border-accent",children:[u.jsxs("div",{className:"p-6 border-b-2 border-accent flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"Scope Template"}),u.jsx("button",{onClick:()=>ws(Ha(),"scope"),className:"flex items-center px-3 py-1.5 bg-white text-black text-sm font-medium rounded-lg hover:bg-white transition-colors",children:to==="scope"?u.jsxs(u.Fragment,{children:[u.jsx(Yt,{className:"w-4 h-4 mr-1"}),"Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(yr,{className:"w-4 h-4 mr-1"}),"Copy Text"]})})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"bg-black rounded-lg p-4 border border-white h-96 overflow-y-auto",children:u.jsx("pre",{className:"whitespace-pre-wrap text-sm text-white font-mono leading-relaxed",children:Ha()})})})]}),u.jsxs("div",{className:"bg-gray-900 rounded-xl border-2 border-accent",children:[u.jsxs("div",{className:"p-6 border-b-2 border-accent flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"Customer Email Template"}),u.jsx("button",{onClick:()=>ws(ro(),"email"),className:"flex items-center px-3 py-1.5 bg-white text-black text-sm font-medium rounded-lg hover:bg-white transition-colors",children:to==="email"?u.jsxs(u.Fragment,{children:[u.jsx(Yt,{className:"w-4 h-4 mr-1"}),"Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(yr,{className:"w-4 h-4 mr-1"}),"Copy Text"]})})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"bg-black rounded-lg p-4 border border-white h-64 overflow-y-auto",children:u.jsx("pre",{className:"whitespace-pre-wrap text-sm text-white font-mono leading-relaxed",children:ro()})})})]}),u.jsxs("div",{className:"bg-gray-900 rounded-xl border-2 border-accent lg:col-span-2",children:[u.jsxs("div",{className:"p-6 border-b-2 border-accent flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"Logistics Quote Template"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>ws(Va(),"logistics",!0),className:"flex items-center px-3 py-1.5 bg-white text-black text-sm font-medium rounded-lg hover:bg-white transition-colors",children:to==="logistics"?u.jsxs(u.Fragment,{children:[u.jsx(Yt,{className:"w-4 h-4 mr-1"}),"Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(yr,{className:"w-4 h-4 mr-1"}),"Copy Text"]})}),u.jsxs("button",{onClick:Sf,className:"flex items-center px-3 py-1.5 bg-white text-black text-sm font-medium rounded-lg hover:bg-white transition-colors",children:[u.jsx(Pl,{className:"w-4 h-4 mr-1"}),"Email"]})]})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"bg-black rounded-lg p-4 border border-white h-96 overflow-y-auto",children:u.jsx("div",{className:"whitespace-pre-wrap text-sm text-white font-mono leading-relaxed",dangerouslySetInnerHTML:{__html:Va()}})})})]})]}),bf=()=>u.jsxs("div",{className:"space-y-8",children:[u.jsx("div",{id:"project",children:wf()}),u.jsx("div",{id:"equipment",children:xf()}),u.jsx("div",{id:"storage",children:kf()}),u.jsx("div",{id:"templates",children:jf()})]});return u.jsxs("div",{className:"min-h-screen bg-black flex",children:[u.jsxs("div",{className:"w-64 bg-gray-900 border-r-2 border-accent flex flex-col h-screen sticky top-0",children:[u.jsxs("div",{className:"p-6 border-b-2 border-accent",children:[u.jsx("h1",{className:"text-xl font-bold text-white",children:"OM Quote"}),u.jsx("p",{className:"text-sm text-white",children:"Quote Generator"})]}),u.jsx("nav",{className:"flex-1 p-4 space-y-2",children:vf.map(p=>{const _=p.icon;return u.jsxs("button",{onClick:()=>{var E;return(E=document.getElementById(p.id))==null?void 0:E.scrollIntoView({behavior:"smooth"})},className:"w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors text-white hover:bg-gray-800 hover:text-white",children:[u.jsx(_,{className:"w-5 h-5 mr-3 text-white"}),p.name]},p.id)})}),u.jsxs("div",{className:"p-4 border-t-2 border-accent space-y-2",children:[u.jsxs("button",{onClick:()=>e(!0),className:"w-full flex items-center px-4 py-3 text-left text-white hover:bg-gray-800 hover:text-white rounded-lg transition-colors",children:[u.jsx(Ys,{className:"w-5 h-5 mr-3 text-white"}),"AI Extractor"]}),u.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center px-4 py-3 text-left text-white hover:bg-gray-800 transition-colors rounded-lg",children:[u.jsx(Uh,{className:"w-4 h-4 mr-2"}),"Quote History"]}),u.jsxs("button",{onClick:()=>i(!0),className:"w-full flex items-center px-4 py-3 text-left text-white hover:bg-gray-800 hover:text-white rounded-lg transition-colors",children:[u.jsx(Ys,{className:"w-5 h-5 mr-3 text-white"}),"API Setup"]})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"bg-gray-900 border-b-2 border-accent px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:"Quote Generator"}),u.jsx("p",{className:"text-sm text-white",children:"Complete all sections to generate your quote templates"})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("button",{onClick:()=>e(!0),className:"flex items-center px-4 py-2 bg-white text-black rounded-lg hover:bg-white transition-colors",children:[u.jsx(Ys,{className:"w-4 h-4 mr-2"}),"AI Extractor"]}),u.jsxs("button",{onClick:ft,className:"flex items-center px-4 py-2 text-white hover:bg-black rounded-lg transition-colors",children:[u.jsx(hg,{className:"w-4 h-4 mr-2"}),"Reset Saved Data"]})]})]})}),u.jsxs("div",{className:"flex-1 p-6 bg-gray-950",children:[bf(),V&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onMouseDown:()=>it(!1),children:u.jsxs("div",{className:"bg-black rounded-2xl shadow-2xl w-full max-w-xl border border-white",onMouseDown:p=>p.stopPropagation(),children:[u.jsxs("div",{className:"p-4 border-b-2 border-accent flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"Quote History"}),u.jsx("button",{className:"text-white",onClick:()=>it(!1),children:"Close"})]}),u.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:Pt.length===0?u.jsx("div",{className:"text-white text-sm",children:"No quotes saved yet."}):u.jsx("ul",{className:"divide-y divide-gray-800",children:Pt.map(p=>u.jsxs("li",{className:"py-3 text-white text-sm",children:[u.jsx("div",{className:"font-mono",children:p.quote_number}),u.jsxs("div",{className:"opacity-80",children:[p.customer_name||"Unnamed","  ",p.company_name||""]}),u.jsx("div",{className:"text-xs opacity-60",children:new Date(p.created_at).toLocaleString()})]},p.id))})})]})})]})]}),u.jsx($v,{onExtract:xn,isOpen:t,onClose:()=>e(!1),sessionId:a}),u.jsx(Av,{equipmentData:c,logisticsData:c,isOpen:r,onClose:()=>n(!1)}),u.jsx(Ov,{isOpen:o,onClose:()=>l(!1),onLoadQuote:yf,currentEquipmentData:c,currentLogisticsData:c}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-black rounded-2xl shadow-2xl w-full max-w-md",children:[u.jsx("div",{className:"p-6 border-b-2 border-accent",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-bold text-white",children:"API Key Setup"}),u.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-black rounded-lg transition-colors",children:u.jsx(mt,{className:"w-5 h-5 text-white"})})]})}),u.jsx("div",{className:"p-6",children:u.jsx(Iv,{onApiKeyChange:()=>{}})})]})})]})};Dh(document.getElementById("root")).render(u.jsx(O.StrictMode,{children:u.jsx(Rv,{})}));
